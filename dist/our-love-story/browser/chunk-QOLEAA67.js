import{A as fe,E as B,I as ge,J as V,K as $,Ka as F,La as Y,M as l,a as de,e as z,lb as J,q as he,s as pe,y as H,ya as Z,za as X}from"./chunk-42PG76QE.js";import{$ as E,U as Ae,X as O,Xb as we,Yb as be,_ as p,aa as N,ac as G,c as A,ca as Ee,da as W,ea as ve,h as me,i as ke,k as K,l as q,ma as b,pa as M,ra as m,za as Te}from"./chunk-5KRWD2P7.js";import{f as g}from"./chunk-KT3CPUTC.js";var je="firebase",Ue="11.9.1";l(je,Ue,"app");function Q(e){e===void 0&&(ve(Q),e=p(b));let t=e.get(M);return n=>new A(r=>{let o=t.add(),i=!1;function a(){i||(o(),i=!0)}let u=n.subscribe({next:c=>{r.next(c),a()},complete:()=>{r.complete(),a()},error:c=>{r.error(c),a()}});return u.add(()=>{r.unsubscribe(),a()}),u})}var P=new we("ANGULARFIRE2_VERSION");function ee(e,t,n){if(t){if(t.length===1)return t[0];let i=t.filter(a=>a.app===n);if(i.length===1)return i[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var L=(e,t)=>{let n=t?[t]:$(),r=[];return n.forEach(o=>{o.container.getProvider(e).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},I=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(I||{}),Ie=G()&&typeof Zone<"u"?I.WARN:I.SILENT;var x=class{zone;delegate;constructor(t,n=ke){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let o=this.zone,i=function(a){o?o.runGuarded(()=>{t.apply(this,[a])}):t.apply(this,[a])};return this.delegate.schedule(i,n,r)}},R=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=p(m);this.outsideAngular=n.runOutsideAngular(()=>new x(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new x(typeof Zone>"u"?void 0:Zone.current,me))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Ae({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pe=!1;function ze(e,t){!Pe&&(Ie>I.SILENT||G())&&(Pe=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Ie>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function He(e){let t=p(m,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function v(e){let t=p(m,{optional:!0});return t?t.run(()=>e()):e()}var Be=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),W(n,()=>v(()=>e.apply(void 0,r)))),f=(e,t,n)=>(n||=t?I.WARN:I.VERBOSE,function(){let r,o=arguments,i,a,u;try{i=p(R),a=p(M),u=p(Ee)}catch{return ze(e,n),e.apply(this,o)}for(let s=0;s<arguments.length;s++)typeof o[s]=="function"&&(t&&(r||=v(()=>a.add())),o[s]=Be(o[s],r,u));let c=He(()=>e.apply(this,o));return t?c instanceof A?c.pipe(q(i.outsideAngular),K(i.insideAngular),Q(u)):c instanceof Promise?v(()=>new Promise((s,w)=>{a.run(()=>c).then(C=>W(u,()=>v(()=>s(C))),C=>W(u,()=>v(()=>w(C))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:v(()=>c):c instanceof A?c.pipe(q(i.outsideAngular),K(i.insideAngular)):v(()=>c)});var T=class{constructor(t){return t}},y=class{constructor(){return $()}};function Ve(e){return e&&e.length===1?e[0]:new T(V())}var te=new O("angularfire2._apps"),Ke={provide:T,useFactory:Ve,deps:[[new E,te]]},qe={provide:y,deps:[[new E,te]]};function Ge(e){return(t,n)=>{let r=n.get(Te);l("angularfire",P.full,"core"),l("angularfire",P.full,"app"),l("angular",be.full,r.toString());let o=t.runOutsideAngular(()=>e(n));return new T(o)}}function nr(e,...t){return N([Ke,qe,{provide:te,useFactory:Ge(e),multi:!0,deps:[m,b,R,...t]}])}var rr=f(ge,!0);var Ze=new Map,Xe={activated:!1,tokenObservers:[]},Ye={initialized:!1,enabled:!1};function d(e){return Ze.get(e)||Object.assign({},Xe)}function _e(){return Ye}var Je="https://content-firebaseappcheck.googleapis.com/v1";var Qe="exchangeDebugToken",Re={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},gr=24*60*60*1e3;var oe=class{constructor(t,n,r,o,i){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return g(this,null,function*(){this.stop();try{this.pending=new z,this.pending.promise.catch(n=>{}),yield et(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new z,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function et(e){return new Promise(t=>{setTimeout(t,e)})}var tt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},k=new pe("appCheck","AppCheck",tt);function Se(e){if(!d(e).activated)throw k.create("use-before-activation",{appName:e.name})}function De(r,o){return g(this,arguments,function*({url:e,body:t},n){let i={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&(i["X-Firebase-Client"]=h)}let u={method:"POST",body:JSON.stringify(t),headers:i},c;try{c=yield fetch(e,u)}catch(h){throw k.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw k.create("fetch-status-error",{httpStatus:c.status});let s;try{s=yield c.json()}catch(h){throw k.create("fetch-parse-error",{originalErrorMessage:h?.message})}let w=s.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw k.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});let C=Number(w[1])*1e3,le=Date.now();return{token:s.token,expireTimeMillis:le+C,issuedAtTimeMillis:le}})}function $e(e,t){let{projectId:n,appId:r,apiKey:o}=e.options;return{url:`${Je}/projects/${n}/apps/${r}:${Qe}?key=${o}`,body:{debug_token:t}}}var nt="firebase-app-check-database",rt=1,ie="firebase-app-check-store";var j=null;function ot(){return j||(j=new Promise((e,t)=>{try{let n=indexedDB.open(nt,rt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var o;t(k.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(ie,{keyPath:"compositeKey"})}}}catch(n){t(k.create("storage-open",{originalErrorMessage:n?.message}))}}),j)}function it(e,t){return st(at(e),t)}function st(e,t){return g(this,null,function*(){let r=(yield ot()).transaction(ie,"readwrite"),i=r.objectStore(ie).put({compositeKey:e,value:t});return new Promise((a,u)=>{i.onsuccess=c=>{a()},r.onerror=c=>{var s;u(k.create("storage-set",{originalErrorMessage:(s=c.target.error)===null||s===void 0?void 0:s.message}))}})})}function at(e){return`${e.options.appId}-${e.name}`}var _=new fe("@firebase/app-check");function ne(e,t){return he()?it(e,t).catch(n=>{_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Oe(){return _e().enabled}function Ne(){return g(this,null,function*(){let e=_e();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var ct={error:"UNKNOWN_ERROR"};function ut(e){return de.encodeString(JSON.stringify(e),!1)}function se(e,t=!1,n=!1){return g(this,null,function*(){let r=e.app;Se(r);let o=d(r),i=o.token,a;if(i&&!S(i)&&(o.token=void 0,i=void 0),!i){let s=yield o.cachedTokenPromise;s&&(S(s)?i=s:yield ne(r,void 0))}if(!t&&i&&S(i))return{token:i.token};let u=!1;if(Oe())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=De($e(r,yield Ne()),e.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),u=!0);let s=yield o.exchangeTokenPromise;return yield ne(r,s),o.token=s,{token:s.token}}catch(s){return s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?_.warn(s.message):n&&_.error(s),re(s)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),u=!0),i=yield d(r).exchangeTokenPromise}catch(s){s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?_.warn(s.message):n&&_.error(s),a=s}let c;return i?a?S(i)?c={token:i.token,internalError:a}:c=re(a):(c={token:i.token},o.token=i,yield ne(r,i)):c=re(a),u&&pt(r,c),c})}function lt(e){return g(this,null,function*(){let t=e.app;Se(t);let{provider:n}=d(t);if(Oe()){let r=yield Ne(),{token:o}=yield De($e(t,r),e.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield n.getToken();return{token:r}}})}function dt(e,t,n,r){let{app:o}=e,i=d(o),a={next:n,error:r,type:t};if(i.tokenObservers=[...i.tokenObservers,a],i.token&&S(i.token)){let u=i.token;Promise.resolve().then(()=>{n({token:u.token}),Ce(e)}).catch(()=>{})}i.cachedTokenPromise.then(()=>Ce(e))}function We(e,t){let n=d(e),r=n.tokenObservers.filter(o=>o.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Ce(e){let{app:t}=e,n=d(t),r=n.tokenRefresher;r||(r=ht(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ht(e){let{app:t}=e;return new oe(()=>g(null,null,function*(){let n=d(t),r;if(n.token?r=yield se(e,!0):r=yield se(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=d(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,o=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},Re.RETRIAL_MIN_WAIT,Re.RETRIAL_MAX_WAIT)}function pt(e,t){let n=d(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function S(e){return e.expireTimeMillis-Date.now()>0}function re(e){return{token:ut(ct),error:e}}var ae=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=d(this.app);for(let n of t)We(this.app,n.next);return Promise.resolve()}};function ft(e,t){return new ae(e,t)}function gt(e){return{getToken:t=>se(e,t),getLimitedUseToken:()=>lt(e),addTokenListener:t=>dt(e,"INTERNAL",t),removeTokenListener:t=>We(e.app,t)}}var mt="@firebase/app-check",kt="0.10.0";var At="app-check",ye="app-check-internal";function Et(){B(new H(At,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return ft(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(ye).initialize()})),B(new H(ye,e=>{let t=e.getProvider("app-check").getImmediate();return gt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),l(mt,kt)}Et();var vt="app-check";var U=class{constructor(){return L(vt)}};var Tt=["localhost","0.0.0.0","127.0.0.1"],yr=typeof window<"u"&&Tt.includes(window.location.hostname);function xe(e){return new A(function(t){var n=F(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:n}})}var Le="auth",D=class{constructor(t){return t}},ce=class{constructor(){return L(Le)}};var ue=new O("angularfire2.auth-instances");function gn(e,t){let n=ee(Le,e,t);return n&&new D(n)}function mn(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new D(r)}}var kn={provide:ce,deps:[[new E,ue]]},An={provide:D,useFactory:gn,deps:[[new E,ue],T]};function Oo(e,...t){return l("angularfire",P.full,"auth"),N([An,kn,{provide:ue,useFactory:mn(e),multi:!0,deps:[m,b,R,y,[new E,U],...t]}])}var No=f(xe,!0);var Wo=f(Z,!0,2);var Mo=f(J,!0);var Fo=f(X,!0,2);var xo=f(Y,!0,2);export{Q as a,P as b,ee as c,L as d,R as e,f,T as g,y as h,nr as i,rr as j,U as k,D as l,ce as m,Oo as n,No as o,Wo as p,Mo as q,Fo as r,xo as s};
