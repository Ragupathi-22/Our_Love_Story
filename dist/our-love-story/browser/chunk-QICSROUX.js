import{b as P}from"./chunk-O5OYVBD2.js";import{l as O}from"./chunk-PUBC3ITG.js";import"./chunk-S6UWFWRQ.js";import"./chunk-QOLEAA67.js";import{j as C,k as E,l as I,o as D,p as F,q as w}from"./chunk-7BREBM4O.js";import"./chunk-42PG76QE.js";import{Eb as f,Ib as x,Jb as r,Kb as d,Lb as g,Tb as u,Ua as a,Ub as S,Vb as y,Wb as v,_a as h,db as b,ib as m,qb as s,ub as n,vb as i,wb as _,xb as p,yb as c}from"./chunk-5KRWD2P7.js";import"./chunk-KT3CPUTC.js";function T(t,e){if(t&1&&(p(0),n(1,"div",13)(2,"div",14)(3,"span",15),r(4),i(),n(5,"span",16),r(6),i()(),n(7,"div",17),r(8),i()(),c()),t&2){let o=e.$implicit,l=e.index;a(),s("ngClass","bg-gradient-to-br "+o.color+" "+(l%2===0?"lg:mt-0":"lg:mt-8")),a(3),d(o.title),a(2),d(o.icon),a(2),d(o.count)}}function k(t,e){if(t&1&&(n(0,"div",20),_(1,"div",21),n(2,"div")(3,"p",22),r(4),i(),n(5,"p",23),r(6),u(7,"date"),i()()()),t&2){let o=e.$implicit;a(4),d(o.title),a(2),d(S(7,2,o.date))}}function B(t,e){if(t&1&&(p(0),n(1,"div",18),m(2,k,8,4,"div",19),u(3,"slice"),i(),c()),t&2){let o=f();a(2),s("ngForOf",y(3,1,o.timelineItems,0,3))}}function L(t,e){t&1&&(n(0,"p",24),r(1,"No memories yet. Start creating your timeline!"),i())}function R(t,e){if(t&1&&(n(0,"li",28),r(1),i()),t&2){let o=e.$implicit;a(),g(" ",o.playlistName||"Playlist"," ")}}function $(t,e){if(t&1&&(p(0),n(1,"div",25)(2,"ul",26),m(3,R,2,1,"li",27),u(4,"slice"),i()(),c()),t&2){let o=f();a(3),s("ngForOf",y(4,1,o.playlists,0,3))}}function U(t,e){t&1&&(n(0,"p",24),r(1,"No playlists yet. Add your favorite love songs!"),i())}var A=class t{constructor(e){this.userService=e}user;timelineItems=[];galleryItems=[];playlists=[];noOfDays="";stats=[];ngOnInit(){try{this.userService.userProfile$.subscribe(e=>{this.user=e,this.updateStats()}),this.userService.getTimeline().subscribe(e=>{this.timelineItems=e,this.updateStats()}),this.userService.getGallery().subscribe(e=>{this.galleryItems=e,this.updateStats()}),this.userService.getPlaylists().subscribe(e=>{this.playlists=e,this.updateStats()}),this.userService.getNoOfDays().subscribe(e=>{this.noOfDays=e,this.updateStats()})}catch(e){console.log("error in admin dashboard",e)}}updateStats(){this.stats=[{title:"Beautiful Memories",count:this.timelineItems.length,icon:"\u{1F496}",color:"from-pink-500 to-rose-500"},{title:"Precious Photos",count:this.galleryItems.length,icon:"\u{1F4F8}",color:"from-purple-500 to-pink-500"},{title:"Love Playlists",count:this.playlists.length,icon:"\u{1F3B5}",color:"from-blue-500 to-purple-500"},{title:"Days in Love",count:this.noOfDays,icon:"\u{1F495}",color:"from-red-500 to-pink-500"},{title:"Milestones",count:this.timelineItems.filter(e=>e.title.toLowerCase().includes("anniversary")||e.title.toLowerCase().includes("milestone")).length,icon:"\u{1F31F}",color:"from-yellow-500 to-orange-500"}]}static \u0275fac=function(o){return new(o||t)(h(P))};static \u0275cmp=b({type:t,selectors:[["app-admin-dashboard"]],decls:27,vars:7,consts:[["noMemories",""],["noPlaylists",""],[1,"p-8"],[1,"mb-8"],[1,"text-4xl","font-bold","bg-gradient-to-r","from-pink-600","to-rose-600","bg-clip-text","text-transparent"],[1,"text-gray-600","mt-2"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[4,"ngFor","ngForOf"],[1,"mt-12","grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"shadow-lg","bg-white","rounded-xl","p-4"],[1,"flex","items-center","space-x-2","mb-4"],[1,"font-bold","text-xl"],[4,"ngIf","ngIfElse"],[1,"transform","hover:scale-105","transition-all","duration-300","shadow-lg","border-0","text-white","p-4","rounded-xl",3,"ngClass"],[1,"flex","justify-between","items-center","pb-2"],[1,"text-lg","font-medium"],[1,"text-2xl"],[1,"text-3xl","font-bold"],[1,"space-y-3"],["class","flex items-center space-x-3 p-3 bg-pink-50 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-3","p-3","bg-pink-50","rounded-lg"],[1,"w-2","h-2","bg-pink-500","rounded-full"],[1,"font-medium","text-gray-800"],[1,"text-sm","text-gray-600"],[1,"text-gray-500","text-center","py-4"],[1,"bg-blue-50","p-4","rounded-lg"],[1,"list-disc","list-inside","space-y-2"],["class","text-gray-800 font-medium",4,"ngFor","ngForOf"],[1,"text-gray-800","font-medium"]],template:function(o,l){if(o&1&&(n(0,"div",2)(1,"div",3)(2,"h1",4),r(3),i(),n(4,"p",5),r(5),i()(),n(6,"div",6),m(7,T,9,4,"ng-container",7),i(),n(8,"div",8)(9,"div",9)(10,"div",10)(11,"span"),r(12,"\u{1F496}"),i(),n(13,"span",11),r(14,"Recent Memories"),i()(),m(15,B,4,5,"ng-container",12)(16,L,2,0,"ng-template",null,0,v),i(),n(18,"div",9)(19,"div",10)(20,"span"),r(21,"\u{1F3B5}"),i(),n(22,"span",11),r(23,"Recent Playlists"),i()(),m(24,$,5,5,"ng-container",12)(25,U,2,0,"ng-template",null,1,v),i()()()),o&2){let N=x(17),M=x(26);a(3),g(" Welcome back, ",l.user==null?null:l.user.yourName,"! \u2764\uFE0F "),a(2),g(" Your love story with ",l.user==null?null:l.user.partnerName," continues to grow beautiful "),a(2),s("ngForOf",l.stats),a(8),s("ngIf",l.timelineItems.length>0)("ngIfElse",N),a(9),s("ngIf",l.playlists.length>0)("ngIfElse",M)}},dependencies:[w,C,E,I,F,D,O],encapsulation:2})};export{A as AdminDashboardComponent};
