import{a as qt,b as Ai,c as yi,d as Er,e as vi,f as wi,g as _i,h as bi,i as Ei,j as Ii,k as xi,l as Si,m as Fi,n as Ci,o as Ti,p as Ui,q as Ir,r as Ri,t as Mi}from"./chunk-D3KDQJ53.js";import{b as mi}from"./chunk-O5OYVBD2.js";import{a as we}from"./chunk-TNWPVYO6.js";import{a as li,b as Qt,c as ci,d as fi,g as ui,h as di,i as hi,k as gi,m as pi}from"./chunk-PUBC3ITG.js";import{$ as Yn,A as Mn,B as Dn,C as kt,D as Ar,E as Pn,F as Be,G as Nn,H as On,I as Bn,J as jn,K as kn,L as Ln,M as Qn,N as qn,O as Vn,P as Lt,Q as Wn,R as yr,S as vr,T as Hn,U as $n,V as Gn,W as zn,X as Zn,Y as Kn,Z as wr,_ as _r,a as un,aa as Xn,b as dn,ba as br,c as hn,ca as Jn,d as ut,da as ei,e as gn,ea as ti,f as pn,fa as ri,g as mn,ga as ni,h as An,ha as ii,i as yn,ia as oi,j as vn,ja as ai,k as wn,ka as si,l as _n,m as St,n as pr,o as bn,p as jt,q as mr,r as En,s as In,t as xn,u as Sn,v as Fn,w as Cn,x as Tn,y as Un,z as Rn}from"./chunk-S6UWFWRQ.js";import{a as le,e as Oe,k as ft}from"./chunk-QOLEAA67.js";import{k as ln,l as cn,q as fn,t as Bt}from"./chunk-7BREBM4O.js";import{x as fr,y as Tt}from"./chunk-42PG76QE.js";import{C as Jr,Db as lt,Eb as ct,F as en,G as tn,H as rn,Ib as an,Jb as Y,K as Rt,Kb as Ot,L as Mt,Lb as hr,M as ur,N as Dt,O as Te,P as dr,Ra as nn,U as it,Ua as Ee,Wb as sn,X as ie,Z as V,_ as Pe,_a as st,ac as gr,c as Ze,ca as qe,db as on,f as Kr,ga as ot,h as Yr,ha as at,ib as xt,k as Qe,l as Ut,m as ve,n as xe,qb as Ve,r as se,ra as Ne,ub as $,vb as W,wb as Pt,y as Xr,z as It,za as Ke,zb as Nt}from"./chunk-5KRWD2P7.js";import{a as be,b as De,f as Et}from"./chunk-KT3CPUTC.js";function Ao(a,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in a)){var t=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(a,i,t.get?t:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(a)}function Pi(a,e){return new Promise(function(n,i){let t;return yo(a).then(function(r){try{return t=r,n(new Blob([e.slice(0,2),t,e.slice(2)],{type:"image/jpeg"}))}catch(f){return i(f)}},i)})}var yo=a=>new Promise((e,n)=>{let i=new FileReader;i.addEventListener("load",({target:{result:t}})=>{let r=new DataView(t),f=0;if(r.getUint16(f)!==65496)return n("not a valid JPEG");for(f+=2;;){let c=r.getUint16(f);if(c===65498)break;let A=r.getUint16(f+2);if(c===65505&&r.getUint32(f+4)===1165519206){let v=f+10,s;switch(r.getUint16(v)){case 18761:s=!0;break;case 19789:s=!1;break;default:return n("TIFF header contains invalid endian")}if(r.getUint16(v+2,s)!==42)return n("TIFF header contains invalid version");let l=r.getUint32(v+4,s),o=v+l+2+12*r.getUint16(v+l,s);for(let u=v+l+2;u<o;u+=12)if(r.getUint16(u,s)==274){if(r.getUint16(u+2,s)!==3)return n("Orientation data type is invalid");if(r.getUint32(u+4,s)!==1)return n("Orientation data count is invalid");r.setUint16(u+8,1,s);break}return e(t.slice(f,f+2+A))}f+=2+A}return e(new Blob)}),i.readAsArrayBuffer(a)}),Wt={},vo={get exports(){return Wt},set exports(a){Wt=a}};(function(a){var e,n,i={};vo.exports=i,i.parse=function(t,r){for(var f=i.bin.readUshort,c=i.bin.readUint,A=0,v={},s=new Uint8Array(t),l=s.length-4;c(s,l)!=101010256;)l--;A=l,A+=4;var o=f(s,A+=4);f(s,A+=2);var u=c(s,A+=2),m=c(s,A+=4);A+=4,A=m;for(var x=0;x<o;x++){c(s,A),A+=4,A+=4,A+=4,c(s,A+=4),u=c(s,A+=4);var C=c(s,A+=4),_=f(s,A+=4),O=f(s,A+2),R=f(s,A+4);A+=6;var F=c(s,A+=8);A+=4,A+=_+O+R,i._readLocal(s,F,v,u,C,r)}return v},i._readLocal=function(t,r,f,c,A,v){var s=i.bin.readUshort,l=i.bin.readUint;l(t,r),s(t,r+=4),s(t,r+=2);var o=s(t,r+=2);l(t,r+=2),l(t,r+=4),r+=4;var u=s(t,r+=8),m=s(t,r+=2);r+=2;var x=i.bin.readUTF8(t,r,u);if(r+=u,r+=m,v)f[x]={size:A,csize:c};else{var C=new Uint8Array(t.buffer,r);if(o==0)f[x]=new Uint8Array(C.buffer.slice(r,r+c));else{if(o!=8)throw"unknown compression method: "+o;var _=new Uint8Array(A);i.inflateRaw(C,_),f[x]=_}}},i.inflateRaw=function(t,r){return i.F.inflate(t,r)},i.inflate=function(t,r){return t[0],t[1],i.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),r)},i.deflate=function(t,r){r==null&&(r={level:6});var f=0,c=new Uint8Array(50+Math.floor(1.1*t.length));c[f]=120,c[f+1]=156,f+=2,f=i.F.deflateRaw(t,c,f,r.level);var A=i.adler(t,0,t.length);return c[f+0]=A>>>24&255,c[f+1]=A>>>16&255,c[f+2]=A>>>8&255,c[f+3]=A>>>0&255,new Uint8Array(c.buffer,0,f+4)},i.deflateRaw=function(t,r){r==null&&(r={level:6});var f=new Uint8Array(50+Math.floor(1.1*t.length)),c=i.F.deflateRaw(t,f,c,r.level);return new Uint8Array(f.buffer,0,c)},i.encode=function(t,r){r==null&&(r=!1);var f=0,c=i.bin.writeUint,A=i.bin.writeUshort,v={};for(var s in t){var l=!i._noNeed(s)&&!r,o=t[s],u=i.crc.crc(o,0,o.length);v[s]={cpr:l,usize:o.length,crc:u,file:l?i.deflateRaw(o):o}}for(var s in v)f+=v[s].file.length+30+46+2*i.bin.sizeUTF8(s);f+=22;var m=new Uint8Array(f),x=0,C=[];for(var s in v){var _=v[s];C.push(x),x=i._writeHeader(m,x,s,_,0)}var O=0,R=x;for(var s in v)_=v[s],C.push(x),x=i._writeHeader(m,x,s,_,1,C[O++]);var F=x-R;return c(m,x,101010256),x+=4,A(m,x+=4,O),A(m,x+=2,O),c(m,x+=2,F),c(m,x+=4,R),x+=4,x+=2,m.buffer},i._noNeed=function(t){var r=t.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(r)!=-1},i._writeHeader=function(t,r,f,c,A,v){var s=i.bin.writeUint,l=i.bin.writeUshort,o=c.file;return s(t,r,A==0?67324752:33639248),r+=4,A==1&&(r+=2),l(t,r,20),l(t,r+=2,0),l(t,r+=2,c.cpr?8:0),s(t,r+=2,0),s(t,r+=4,c.crc),s(t,r+=4,o.length),s(t,r+=4,c.usize),l(t,r+=4,i.bin.sizeUTF8(f)),l(t,r+=2,0),r+=2,A==1&&(r+=2,r+=2,s(t,r+=6,v),r+=4),r+=i.bin.writeUTF8(t,r,f),A==0&&(t.set(o,r),r+=o.length),r},i.crc={table:function(){for(var t=new Uint32Array(256),r=0;r<256;r++){for(var f=r,c=0;c<8;c++)1&f?f=3988292384^f>>>1:f>>>=1;t[r]=f}return t}(),update:function(t,r,f,c){for(var A=0;A<c;A++)t=i.crc.table[255&(t^r[f+A])]^t>>>8;return t},crc:function(t,r,f){return 4294967295^i.crc.update(4294967295,t,r,f)}},i.adler=function(t,r,f){for(var c=1,A=0,v=r,s=r+f;v<s;){for(var l=Math.min(v+5552,s);v<l;)A+=c+=t[v++];c%=65521,A%=65521}return A<<16|c},i.bin={readUshort:function(t,r){return t[r]|t[r+1]<<8},writeUshort:function(t,r,f){t[r]=255&f,t[r+1]=f>>8&255},readUint:function(t,r){return 16777216*t[r+3]+(t[r+2]<<16|t[r+1]<<8|t[r])},writeUint:function(t,r,f){t[r]=255&f,t[r+1]=f>>8&255,t[r+2]=f>>16&255,t[r+3]=f>>24&255},readASCII:function(t,r,f){for(var c="",A=0;A<f;A++)c+=String.fromCharCode(t[r+A]);return c},writeASCII:function(t,r,f){for(var c=0;c<f.length;c++)t[r+c]=f.charCodeAt(c)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,r,f){for(var c,A="",v=0;v<f;v++)A+="%"+i.bin.pad(t[r+v].toString(16));try{c=decodeURIComponent(A)}catch{return i.bin.readASCII(t,r,f)}return c},writeUTF8:function(t,r,f){for(var c=f.length,A=0,v=0;v<c;v++){var s=f.charCodeAt(v);if((4294967168&s)==0)t[r+A]=s,A++;else if((4294965248&s)==0)t[r+A]=192|s>>6,t[r+A+1]=128|s>>0&63,A+=2;else if((4294901760&s)==0)t[r+A]=224|s>>12,t[r+A+1]=128|s>>6&63,t[r+A+2]=128|s>>0&63,A+=3;else{if((4292870144&s)!=0)throw"e";t[r+A]=240|s>>18,t[r+A+1]=128|s>>12&63,t[r+A+2]=128|s>>6&63,t[r+A+3]=128|s>>0&63,A+=4}}return A},sizeUTF8:function(t){for(var r=t.length,f=0,c=0;c<r;c++){var A=t.charCodeAt(c);if((4294967168&A)==0)f++;else if((4294965248&A)==0)f+=2;else if((4294901760&A)==0)f+=3;else{if((4292870144&A)!=0)throw"e";f+=4}}return f}},i.F={},i.F.deflateRaw=function(t,r,f,c){var A=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][c],v=i.F.U,s=i.F._goodIndex;i.F._hash;var l=i.F._putsE,o=0,u=f<<3,m=0,x=t.length;if(c==0){for(;o<x;)l(r,u,o+(I=Math.min(65535,x-o))==x?1:0),u=i.F._copyExact(t,o,I,r,u+8),o+=I;return u>>>3}var C=v.lits,_=v.strt,O=v.prev,R=0,F=0,N=0,y=0,D=0,g=0;for(x>2&&(_[g=i.F._hash(t,0)]=0),o=0;o<x;o++){if(D=g,o+1<x-2){g=i.F._hash(t,o+1);var h=o+1&32767;O[h]=_[g],_[g]=h}if(m<=o){(R>14e3||F>26697)&&x-o>100&&(m<o&&(C[R]=o-m,R+=2,m=o),u=i.F._writeBlock(o==x-1||m==x?1:0,C,R,y,t,N,o-N,r,u),R=F=y=0,N=o);var b=0;o<x-2&&(b=i.F._bestMatch(t,o,O,D,Math.min(A[2],x-o),A[3]));var I=b>>>16,E=65535&b;if(b!=0){E=65535&b;var S=s(I=b>>>16,v.of0);v.lhst[257+S]++;var w=s(E,v.df0);v.dhst[w]++,y+=v.exb[S]+v.dxb[w],C[R]=I<<23|o-m,C[R+1]=E<<16|S<<8|w,R+=2,m=o+I}else v.lhst[t[o]]++;F++}}for(N==o&&t.length!=0||(m<o&&(C[R]=o-m,R+=2,m=o),u=i.F._writeBlock(1,C,R,y,t,N,o-N,r,u),R=0,F=0,R=F=y=0,N=o);(7&u)!=0;)u++;return u>>>3},i.F._bestMatch=function(t,r,f,c,A,v){var s=32767&r,l=f[s],o=s-l+32768&32767;if(l==s||c!=i.F._hash(t,r-o))return 0;for(var u=0,m=0,x=Math.min(32767,r);o<=x&&--v!=0&&l!=s;){if(u==0||t[r+u]==t[r+u-o]){var C=i.F._howLong(t,r,o);if(C>u){if(m=o,(u=C)>=A)break;o+2<C&&(C=o+2);for(var _=0,O=0;O<C-2;O++){var R=r-o+O+32768&32767,F=R-f[R]+32768&32767;F>_&&(_=F,l=R)}}}o+=(s=l)-(l=f[s])+32768&32767}return u<<16|m},i.F._howLong=function(t,r,f){if(t[r]!=t[r-f]||t[r+1]!=t[r+1-f]||t[r+2]!=t[r+2-f])return 0;var c=r,A=Math.min(t.length,r+258);for(r+=3;r<A&&t[r]==t[r-f];)r++;return r-c},i.F._hash=function(t,r){return(t[r]<<8|t[r+1])+(t[r+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(t,r,f,c,A,v,s,l,o){var u,m,x,C,_,O,R,F,N,y=i.F.U,D=i.F._putsF,g=i.F._putsE;y.lhst[256]++,m=(u=i.F.getTrees())[0],x=u[1],C=u[2],_=u[3],O=u[4],R=u[5],F=u[6],N=u[7];var h=32+((o+3&7)==0?0:8-(o+3&7))+(s<<3),b=c+i.F.contSize(y.fltree,y.lhst)+i.F.contSize(y.fdtree,y.dhst),I=c+i.F.contSize(y.ltree,y.lhst)+i.F.contSize(y.dtree,y.dhst);I+=14+3*R+i.F.contSize(y.itree,y.ihst)+(2*y.ihst[16]+3*y.ihst[17]+7*y.ihst[18]);for(var E=0;E<286;E++)y.lhst[E]=0;for(E=0;E<30;E++)y.dhst[E]=0;for(E=0;E<19;E++)y.ihst[E]=0;var S=h<b&&h<I?0:b<I?1:2;if(D(l,o,t),D(l,o+1,S),o+=3,S==0){for(;(7&o)!=0;)o++;o=i.F._copyExact(A,v,s,l,o)}else{var w,T;if(S==1&&(w=y.fltree,T=y.fdtree),S==2){i.F.makeCodes(y.ltree,m),i.F.revCodes(y.ltree,m),i.F.makeCodes(y.dtree,x),i.F.revCodes(y.dtree,x),i.F.makeCodes(y.itree,C),i.F.revCodes(y.itree,C),w=y.ltree,T=y.dtree,g(l,o,_-257),g(l,o+=5,O-1),g(l,o+=5,R-4),o+=4;for(var p=0;p<R;p++)g(l,o+3*p,y.itree[1+(y.ordr[p]<<1)]);o+=3*R,o=i.F._codeTiny(F,y.itree,l,o),o=i.F._codeTiny(N,y.itree,l,o)}for(var d=v,B=0;B<f;B+=2){for(var U=r[B],P=U>>>23,Q=d+(8388607&U);d<Q;)o=i.F._writeLit(A[d++],w,l,o);if(P!=0){var k=r[B+1],L=k>>16,j=k>>8&255,M=255&k;g(l,o=i.F._writeLit(257+j,w,l,o),P-y.of0[j]),o+=y.exb[j],D(l,o=i.F._writeLit(M,T,l,o),L-y.df0[M]),o+=y.dxb[M],d+=P}}o=i.F._writeLit(256,w,l,o)}return o},i.F._copyExact=function(t,r,f,c,A){var v=A>>>3;return c[v]=f,c[v+1]=f>>>8,c[v+2]=255-c[v],c[v+3]=255-c[v+1],v+=4,c.set(new Uint8Array(t.buffer,r,f),v),A+(f+4<<3)},i.F.getTrees=function(){for(var t=i.F.U,r=i.F._hufTree(t.lhst,t.ltree,15),f=i.F._hufTree(t.dhst,t.dtree,15),c=[],A=i.F._lenCodes(t.ltree,c),v=[],s=i.F._lenCodes(t.dtree,v),l=0;l<c.length;l+=2)t.ihst[c[l]]++;for(l=0;l<v.length;l+=2)t.ihst[v[l]]++;for(var o=i.F._hufTree(t.ihst,t.itree,7),u=19;u>4&&t.itree[1+(t.ordr[u-1]<<1)]==0;)u--;return[r,f,o,A,s,u,c,v]},i.F.getSecond=function(t){for(var r=[],f=0;f<t.length;f+=2)r.push(t[f+1]);return r},i.F.nonZero=function(t){for(var r="",f=0;f<t.length;f+=2)t[f+1]!=0&&(r+=(f>>1)+",");return r},i.F.contSize=function(t,r){for(var f=0,c=0;c<r.length;c++)f+=r[c]*t[1+(c<<1)];return f},i.F._codeTiny=function(t,r,f,c){for(var A=0;A<t.length;A+=2){var v=t[A],s=t[A+1];c=i.F._writeLit(v,r,f,c);var l=v==16?2:v==17?3:7;v>15&&(i.F._putsE(f,c,s,l),c+=l)}return c},i.F._lenCodes=function(t,r){for(var f=t.length;f!=2&&t[f-1]==0;)f-=2;for(var c=0;c<f;c+=2){var A=t[c+1],v=c+3<f?t[c+3]:-1,s=c+5<f?t[c+5]:-1,l=c==0?-1:t[c-1];if(A==0&&v==A&&s==A){for(var o=c+5;o+2<f&&t[o+2]==A;)o+=2;(u=Math.min(o+1-c>>>1,138))<11?r.push(17,u-3):r.push(18,u-11),c+=2*u-2}else if(A==l&&v==A&&s==A){for(o=c+5;o+2<f&&t[o+2]==A;)o+=2;var u=Math.min(o+1-c>>>1,6);r.push(16,u-3),c+=2*u-2}else r.push(A,0)}return f>>>1},i.F._hufTree=function(t,r,f){var c=[],A=t.length,v=r.length,s=0;for(s=0;s<v;s+=2)r[s]=0,r[s+1]=0;for(s=0;s<A;s++)t[s]!=0&&c.push({lit:s,f:t[s]});var l=c.length,o=c.slice(0);if(l==0)return 0;if(l==1){var u=c[0].lit;return o=u==0?1:0,r[1+(u<<1)]=1,r[1+(o<<1)]=1,1}c.sort(function(F,N){return F.f-N.f});var m=c[0],x=c[1],C=0,_=1,O=2;for(c[0]={lit:-1,f:m.f+x.f,l:m,r:x,d:0};_!=l-1;)m=C!=_&&(O==l||c[C].f<c[O].f)?c[C++]:c[O++],x=C!=_&&(O==l||c[C].f<c[O].f)?c[C++]:c[O++],c[_++]={lit:-1,f:m.f+x.f,l:m,r:x};var R=i.F.setDepth(c[_-1],0);for(R>f&&(i.F.restrictDepth(o,f,R),R=f),s=0;s<l;s++)r[1+(o[s].lit<<1)]=o[s].d;return R},i.F.setDepth=function(t,r){return t.lit!=-1?(t.d=r,r):Math.max(i.F.setDepth(t.l,r+1),i.F.setDepth(t.r,r+1))},i.F.restrictDepth=function(t,r,f){var c=0,A=1<<f-r,v=0;for(t.sort(function(l,o){return o.d==l.d?l.f-o.f:o.d-l.d}),c=0;c<t.length&&t[c].d>r;c++){var s=t[c].d;t[c].d=r,v+=A-(1<<f-s)}for(v>>>=f-r;v>0;)(s=t[c].d)<r?(t[c].d++,v-=1<<r-s-1):c++;for(;c>=0;c--)t[c].d==r&&v<0&&(t[c].d--,v++);v!=0&&console.log("debt left")},i.F._goodIndex=function(t,r){var f=0;return r[16|f]<=t&&(f|=16),r[8|f]<=t&&(f|=8),r[4|f]<=t&&(f|=4),r[2|f]<=t&&(f|=2),r[1|f]<=t&&(f|=1),f},i.F._writeLit=function(t,r,f,c){return i.F._putsF(f,c,r[t<<1]),c+r[1+(t<<1)]},i.F.inflate=function(t,r){var f=Uint8Array;if(t[0]==3&&t[1]==0)return r||new f(0);var c=i.F,A=c._bitsF,v=c._bitsE,s=c._decodeTiny,l=c.makeCodes,o=c.codes2map,u=c._get17,m=c.U,x=r==null;x&&(r=new f(t.length>>>2<<3));for(var C,_,O=0,R=0,F=0,N=0,y=0,D=0,g=0,h=0,b=0;O==0;)if(O=A(t,b,1),R=A(t,b+1,2),b+=3,R!=0){if(x&&(r=i.F._check(r,h+(1<<17))),R==1&&(C=m.flmap,_=m.fdmap,D=511,g=31),R==2){F=v(t,b,5)+257,N=v(t,b+5,5)+1,y=v(t,b+10,4)+4,b+=14;for(var I=0;I<38;I+=2)m.itree[I]=0,m.itree[I+1]=0;var E=1;for(I=0;I<y;I++){var S=v(t,b+3*I,3);m.itree[1+(m.ordr[I]<<1)]=S,S>E&&(E=S)}b+=3*y,l(m.itree,E),o(m.itree,E,m.imap),C=m.lmap,_=m.dmap,b=s(m.imap,(1<<E)-1,F+N,t,b,m.ttree);var w=c._copyOut(m.ttree,0,F,m.ltree);D=(1<<w)-1;var T=c._copyOut(m.ttree,F,N,m.dtree);g=(1<<T)-1,l(m.ltree,w),o(m.ltree,w,C),l(m.dtree,T),o(m.dtree,T,_)}for(;;){var p=C[u(t,b)&D];b+=15&p;var d=p>>>4;if(!(d>>>8))r[h++]=d;else{if(d==256)break;var B=h+d-254;if(d>264){var U=m.ldef[d-257];B=h+(U>>>3)+v(t,b,7&U),b+=7&U}var P=_[u(t,b)&g];b+=15&P;var Q=P>>>4,k=m.ddef[Q],L=(k>>>4)+A(t,b,15&k);for(b+=15&k,x&&(r=i.F._check(r,h+(1<<17)));h<B;)r[h]=r[h++-L],r[h]=r[h++-L],r[h]=r[h++-L],r[h]=r[h++-L];h=B}}}else{(7&b)!=0&&(b+=8-(7&b));var j=4+(b>>>3),M=t[j-4]|t[j-3]<<8;x&&(r=i.F._check(r,h+M)),r.set(new f(t.buffer,t.byteOffset+j,M),h),b=j+M<<3,h+=M}return r.length==h?r:r.slice(0,h)},i.F._check=function(t,r){var f=t.length;if(r<=f)return t;var c=new Uint8Array(Math.max(f<<1,r));return c.set(t,0),c},i.F._decodeTiny=function(t,r,f,c,A,v){for(var s=i.F._bitsE,l=i.F._get17,o=0;o<f;){var u=t[l(c,A)&r];A+=15&u;var m=u>>>4;if(m<=15)v[o]=m,o++;else{var x=0,C=0;m==16?(C=3+s(c,A,2),A+=2,x=v[o-1]):m==17?(C=3+s(c,A,3),A+=3):m==18&&(C=11+s(c,A,7),A+=7);for(var _=o+C;o<_;)v[o]=x,o++}}return A},i.F._copyOut=function(t,r,f,c){for(var A=0,v=0,s=c.length>>>1;v<f;){var l=t[v+r];c[v<<1]=0,c[1+(v<<1)]=l,l>A&&(A=l),v++}for(;v<s;)c[v<<1]=0,c[1+(v<<1)]=0,v++;return A},i.F.makeCodes=function(t,r){for(var f,c,A,v,s=i.F.U,l=t.length,o=s.bl_count,u=0;u<=r;u++)o[u]=0;for(u=1;u<l;u+=2)o[t[u]]++;var m=s.next_code;for(f=0,o[0]=0,c=1;c<=r;c++)f=f+o[c-1]<<1,m[c]=f;for(A=0;A<l;A+=2)(v=t[A+1])!=0&&(t[A]=m[v],m[v]++)},i.F.codes2map=function(t,r,f){for(var c=t.length,A=i.F.U.rev15,v=0;v<c;v+=2)if(t[v+1]!=0)for(var s=v>>1,l=t[v+1],o=s<<4|l,u=r-l,m=t[v]<<u,x=m+(1<<u);m!=x;)f[A[m]>>>15-r]=o,m++},i.F.revCodes=function(t,r){for(var f=i.F.U.rev15,c=15-r,A=0;A<t.length;A+=2){var v=t[A]<<r-t[A+1];t[A]=f[v]>>>c}},i.F._putsE=function(t,r,f){f<<=7&r;var c=r>>>3;t[c]|=f,t[c+1]|=f>>>8},i.F._putsF=function(t,r,f){f<<=7&r;var c=r>>>3;t[c]|=f,t[c+1]|=f>>>8,t[c+2]|=f>>>16},i.F._bitsE=function(t,r,f){return(t[r>>>3]|t[1+(r>>>3)]<<8)>>>(7&r)&(1<<f)-1},i.F._bitsF=function(t,r,f){return(t[r>>>3]|t[1+(r>>>3)]<<8|t[2+(r>>>3)]<<16)>>>(7&r)&(1<<f)-1},i.F._get17=function(t,r){return(t[r>>>3]|t[1+(r>>>3)]<<8|t[2+(r>>>3)]<<16)>>>(7&r)},i.F._get25=function(t,r){return(t[r>>>3]|t[1+(r>>>3)]<<8|t[2+(r>>>3)]<<16|t[3+(r>>>3)]<<24)>>>(7&r)},i.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var t=i.F.U,r=0;r<32768;r++){var f=r;f=(4278255360&(f=(4042322160&(f=(3435973836&(f=(2863311530&f)>>>1|(1431655765&f)<<1))>>>2|(858993459&f)<<2))>>>4|(252645135&f)<<4))>>>8|(16711935&f)<<8,t.rev15[r]=(f>>>16|f<<16)>>>17}function c(A,v,s){for(;v--!=0;)A.push(0,s)}for(r=0;r<32;r++)t.ldef[r]=t.of0[r]<<3|t.exb[r],t.ddef[r]=t.df0[r]<<4|t.dxb[r];c(t.fltree,144,8),c(t.fltree,112,9),c(t.fltree,24,7),c(t.fltree,8,8),i.F.makeCodes(t.fltree,9),i.F.codes2map(t.fltree,9,t.flmap),i.F.revCodes(t.fltree,9),c(t.fdtree,32,5),i.F.makeCodes(t.fdtree,5),i.F.codes2map(t.fdtree,5,t.fdmap),i.F.revCodes(t.fdtree,5),c(t.itree,19,0),c(t.ltree,286,0),c(t.dtree,30,0),c(t.ttree,320,0)}()})();var wo=Ao({__proto__:null,default:Wt},[Wt]),Se=function(){var a={nextZero(s,l){for(;s[l]!=0;)l++;return l},readUshort:(s,l)=>s[l]<<8|s[l+1],writeUshort(s,l,o){s[l]=o>>8&255,s[l+1]=255&o},readUint:(s,l)=>16777216*s[l]+(s[l+1]<<16|s[l+2]<<8|s[l+3]),writeUint(s,l,o){s[l]=o>>24&255,s[l+1]=o>>16&255,s[l+2]=o>>8&255,s[l+3]=255&o},readASCII(s,l,o){let u="";for(let m=0;m<o;m++)u+=String.fromCharCode(s[l+m]);return u},writeASCII(s,l,o){for(let u=0;u<o.length;u++)s[l+u]=o.charCodeAt(u)},readBytes(s,l,o){let u=[];for(let m=0;m<o;m++)u.push(s[l+m]);return u},pad:s=>s.length<2?`0${s}`:s,readUTF8(s,l,o){let u,m="";for(let x=0;x<o;x++)m+=`%${a.pad(s[l+x].toString(16))}`;try{u=decodeURIComponent(m)}catch{return a.readASCII(s,l,o)}return u}};function e(s,l,o,u){let m=l*o,x=r(u),C=Math.ceil(l*x/8),_=new Uint8Array(4*m),O=new Uint32Array(_.buffer),{ctype:R}=u,{depth:F}=u,N=a.readUshort;if(R==6){let U=m<<2;if(F==8)for(var y=0;y<U;y+=4)_[y]=s[y],_[y+1]=s[y+1],_[y+2]=s[y+2],_[y+3]=s[y+3];if(F==16)for(y=0;y<U;y++)_[y]=s[y<<1]}else if(R==2){let U=u.tabs.tRNS;if(U==null){if(F==8)for(y=0;y<m;y++){var D=3*y;O[y]=255<<24|s[D+2]<<16|s[D+1]<<8|s[D]}if(F==16)for(y=0;y<m;y++)D=6*y,O[y]=255<<24|s[D+4]<<16|s[D+2]<<8|s[D]}else{var g=U[0];let P=U[1],Q=U[2];if(F==8)for(y=0;y<m;y++){var h=y<<2;D=3*y,O[y]=255<<24|s[D+2]<<16|s[D+1]<<8|s[D],s[D]==g&&s[D+1]==P&&s[D+2]==Q&&(_[h+3]=0)}if(F==16)for(y=0;y<m;y++)h=y<<2,D=6*y,O[y]=255<<24|s[D+4]<<16|s[D+2]<<8|s[D],N(s,D)==g&&N(s,D+2)==P&&N(s,D+4)==Q&&(_[h+3]=0)}}else if(R==3){let U=u.tabs.PLTE,P=u.tabs.tRNS,Q=P?P.length:0;if(F==1)for(var b=0;b<o;b++){var I=b*C,E=b*l;for(y=0;y<l;y++){h=E+y<<2;var S=3*(w=s[I+(y>>3)]>>7-((7&y)<<0)&1);_[h]=U[S],_[h+1]=U[S+1],_[h+2]=U[S+2],_[h+3]=w<Q?P[w]:255}}if(F==2)for(b=0;b<o;b++)for(I=b*C,E=b*l,y=0;y<l;y++)h=E+y<<2,S=3*(w=s[I+(y>>2)]>>6-((3&y)<<1)&3),_[h]=U[S],_[h+1]=U[S+1],_[h+2]=U[S+2],_[h+3]=w<Q?P[w]:255;if(F==4)for(b=0;b<o;b++)for(I=b*C,E=b*l,y=0;y<l;y++)h=E+y<<2,S=3*(w=s[I+(y>>1)]>>4-((1&y)<<2)&15),_[h]=U[S],_[h+1]=U[S+1],_[h+2]=U[S+2],_[h+3]=w<Q?P[w]:255;if(F==8)for(y=0;y<m;y++){var w;h=y<<2,S=3*(w=s[y]),_[h]=U[S],_[h+1]=U[S+1],_[h+2]=U[S+2],_[h+3]=w<Q?P[w]:255}}else if(R==4){if(F==8)for(y=0;y<m;y++){h=y<<2;var T=s[p=y<<1];_[h]=T,_[h+1]=T,_[h+2]=T,_[h+3]=s[p+1]}if(F==16)for(y=0;y<m;y++){var p;h=y<<2,T=s[p=y<<2],_[h]=T,_[h+1]=T,_[h+2]=T,_[h+3]=s[p+2]}}else if(R==0)for(g=u.tabs.tRNS?u.tabs.tRNS:-1,b=0;b<o;b++){let U=b*C,P=b*l;if(F==1)for(var d=0;d<l;d++){var B=(T=255*(s[U+(d>>>3)]>>>7-(7&d)&1))==255*g?0:255;O[P+d]=B<<24|T<<16|T<<8|T}else if(F==2)for(d=0;d<l;d++)B=(T=85*(s[U+(d>>>2)]>>>6-((3&d)<<1)&3))==85*g?0:255,O[P+d]=B<<24|T<<16|T<<8|T;else if(F==4)for(d=0;d<l;d++)B=(T=17*(s[U+(d>>>1)]>>>4-((1&d)<<2)&15))==17*g?0:255,O[P+d]=B<<24|T<<16|T<<8|T;else if(F==8)for(d=0;d<l;d++)B=(T=s[U+d])==g?0:255,O[P+d]=B<<24|T<<16|T<<8|T;else if(F==16)for(d=0;d<l;d++)T=s[U+(d<<1)],B=N(s,U+(d<<1))==g?0:255,O[P+d]=B<<24|T<<16|T<<8|T}return _}function n(s,l,o,u){let m=r(s),x=Math.ceil(o*m/8),C=new Uint8Array((x+1+s.interlace)*u);return l=s.tabs.CgBI?t(l,C):i(l,C),s.interlace==0?l=f(l,s,0,o,u):s.interlace==1&&(l=function(O,R){let F=R.width,N=R.height,y=r(R),D=y>>3,g=Math.ceil(F*y/8),h=new Uint8Array(N*g),b=0,I=[0,0,4,0,2,0,1],E=[0,4,0,2,0,1,0],S=[8,8,8,4,4,2,2],w=[8,8,4,4,2,2,1],T=0;for(;T<7;){let d=S[T],B=w[T],U=0,P=0,Q=I[T];for(;Q<N;)Q+=d,P++;let k=E[T];for(;k<F;)k+=B,U++;let L=Math.ceil(U*y/8);f(O,R,b,U,P);let j=0,M=I[T];for(;M<N;){let q=E[T],X=b+j*L<<3;for(;q<F;){var p;if(y==1&&(p=(p=O[X>>3])>>7-(7&X)&1,h[M*g+(q>>3)]|=p<<7-((7&q)<<0)),y==2&&(p=(p=O[X>>3])>>6-(7&X)&3,h[M*g+(q>>2)]|=p<<6-((3&q)<<1)),y==4&&(p=(p=O[X>>3])>>4-(7&X)&15,h[M*g+(q>>1)]|=p<<4-((1&q)<<2)),y>=8){let G=M*g+q*D;for(let H=0;H<D;H++)h[G+H]=O[(X>>3)+H]}X+=y,q+=B}j++,M+=d}U*P!=0&&(b+=P*(1+L)),T+=1}return h}(l,s)),l}function i(s,l){return t(new Uint8Array(s.buffer,2,s.length-6),l)}var t=function(){let s={H:{}};return s.H.N=function(l,o){let u=Uint8Array,m,x,C=0,_=0,O=0,R=0,F=0,N=0,y=0,D=0,g=0;if(l[0]==3&&l[1]==0)return o||new u(0);let h=s.H,b=h.b,I=h.e,E=h.R,S=h.n,w=h.A,T=h.Z,p=h.m,d=o==null;for(d&&(o=new u(l.length>>>2<<5));C==0;)if(C=b(l,g,1),_=b(l,g+1,2),g+=3,_!=0){if(d&&(o=s.H.W(o,D+(1<<17))),_==1&&(m=p.J,x=p.h,N=511,y=31),_==2){O=I(l,g,5)+257,R=I(l,g+5,5)+1,F=I(l,g+10,4)+4,g+=14;let U=1;for(var B=0;B<38;B+=2)p.Q[B]=0,p.Q[B+1]=0;for(B=0;B<F;B++){let k=I(l,g+3*B,3);p.Q[1+(p.X[B]<<1)]=k,k>U&&(U=k)}g+=3*F,S(p.Q,U),w(p.Q,U,p.u),m=p.w,x=p.d,g=E(p.u,(1<<U)-1,O+R,l,g,p.v);let P=h.V(p.v,0,O,p.C);N=(1<<P)-1;let Q=h.V(p.v,O,R,p.D);y=(1<<Q)-1,S(p.C,P),w(p.C,P,m),S(p.D,Q),w(p.D,Q,x)}for(;;){let U=m[T(l,g)&N];g+=15&U;let P=U>>>4;if(!(P>>>8))o[D++]=P;else{if(P==256)break;{let Q=D+P-254;if(P>264){let q=p.q[P-257];Q=D+(q>>>3)+I(l,g,7&q),g+=7&q}let k=x[T(l,g)&y];g+=15&k;let L=k>>>4,j=p.c[L],M=(j>>>4)+b(l,g,15&j);for(g+=15&j;D<Q;)o[D]=o[D++-M],o[D]=o[D++-M],o[D]=o[D++-M],o[D]=o[D++-M];D=Q}}}}else{(7&g)!=0&&(g+=8-(7&g));let U=4+(g>>>3),P=l[U-4]|l[U-3]<<8;d&&(o=s.H.W(o,D+P)),o.set(new u(l.buffer,l.byteOffset+U,P),D),g=U+P<<3,D+=P}return o.length==D?o:o.slice(0,D)},s.H.W=function(l,o){let u=l.length;if(o<=u)return l;let m=new Uint8Array(u<<1);return m.set(l,0),m},s.H.R=function(l,o,u,m,x,C){let _=s.H.e,O=s.H.Z,R=0;for(;R<u;){let F=l[O(m,x)&o];x+=15&F;let N=F>>>4;if(N<=15)C[R]=N,R++;else{let y=0,D=0;N==16?(D=3+_(m,x,2),x+=2,y=C[R-1]):N==17?(D=3+_(m,x,3),x+=3):N==18&&(D=11+_(m,x,7),x+=7);let g=R+D;for(;R<g;)C[R]=y,R++}}return x},s.H.V=function(l,o,u,m){let x=0,C=0,_=m.length>>>1;for(;C<u;){let O=l[C+o];m[C<<1]=0,m[1+(C<<1)]=O,O>x&&(x=O),C++}for(;C<_;)m[C<<1]=0,m[1+(C<<1)]=0,C++;return x},s.H.n=function(l,o){let u=s.H.m,m=l.length,x,C,_,O,R=u.j;for(var F=0;F<=o;F++)R[F]=0;for(F=1;F<m;F+=2)R[l[F]]++;let N=u.K;for(x=0,R[0]=0,C=1;C<=o;C++)x=x+R[C-1]<<1,N[C]=x;for(_=0;_<m;_+=2)O=l[_+1],O!=0&&(l[_]=N[O],N[O]++)},s.H.A=function(l,o,u){let m=l.length,x=s.H.m.r;for(let C=0;C<m;C+=2)if(l[C+1]!=0){let _=C>>1,O=l[C+1],R=_<<4|O,F=o-O,N=l[C]<<F,y=N+(1<<F);for(;N!=y;)u[x[N]>>>15-o]=R,N++}},s.H.l=function(l,o){let u=s.H.m.r,m=15-o;for(let x=0;x<l.length;x+=2){let C=l[x]<<o-l[x+1];l[x]=u[C]>>>m}},s.H.M=function(l,o,u){u<<=7&o;let m=o>>>3;l[m]|=u,l[m+1]|=u>>>8},s.H.I=function(l,o,u){u<<=7&o;let m=o>>>3;l[m]|=u,l[m+1]|=u>>>8,l[m+2]|=u>>>16},s.H.e=function(l,o,u){return(l[o>>>3]|l[1+(o>>>3)]<<8)>>>(7&o)&(1<<u)-1},s.H.b=function(l,o,u){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)&(1<<u)-1},s.H.Z=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16)>>>(7&o)},s.H.i=function(l,o){return(l[o>>>3]|l[1+(o>>>3)]<<8|l[2+(o>>>3)]<<16|l[3+(o>>>3)]<<24)>>>(7&o)},s.H.m=function(){let l=Uint16Array,o=Uint32Array;return{K:new l(16),j:new l(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new l(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new o(32),J:new l(512),_:[],h:new l(32),$:[],w:new l(32768),C:[],v:[],d:new l(32768),D:[],u:new l(512),Q:[],r:new l(32768),s:new o(286),Y:new o(30),a:new o(19),t:new o(15e3),k:new l(65536),g:new l(32768)}}(),function(){let l=s.H.m;for(var o=0;o<32768;o++){let m=o;m=(2863311530&m)>>>1|(1431655765&m)<<1,m=(3435973836&m)>>>2|(858993459&m)<<2,m=(4042322160&m)>>>4|(252645135&m)<<4,m=(4278255360&m)>>>8|(16711935&m)<<8,l.r[o]=(m>>>16|m<<16)>>>17}function u(m,x,C){for(;x--!=0;)m.push(0,C)}for(o=0;o<32;o++)l.q[o]=l.S[o]<<3|l.T[o],l.c[o]=l.p[o]<<4|l.z[o];u(l._,144,8),u(l._,112,9),u(l._,24,7),u(l._,8,8),s.H.n(l._,9),s.H.A(l._,9,l.J),s.H.l(l._,9),u(l.$,32,5),s.H.n(l.$,5),s.H.A(l.$,5,l.h),s.H.l(l.$,5),u(l.Q,19,0),u(l.C,286,0),u(l.D,30,0),u(l.v,320,0)}(),s.H.N}();function r(s){return[1,null,3,1,2,null,4][s.ctype]*s.depth}function f(s,l,o,u,m){let x=r(l),C=Math.ceil(u*x/8),_,O;x=Math.ceil(x/8);let R=s[o],F=0;if(R>1&&(s[o]=[0,0,1][R-2]),R==3)for(F=x;F<C;F++)s[F+1]=s[F+1]+(s[F+1-x]>>>1)&255;for(let N=0;N<m;N++)if(_=o+N*C,O=_+N+1,R=s[O-1],F=0,R==0)for(;F<C;F++)s[_+F]=s[O+F];else if(R==1){for(;F<x;F++)s[_+F]=s[O+F];for(;F<C;F++)s[_+F]=s[O+F]+s[_+F-x]}else if(R==2)for(;F<C;F++)s[_+F]=s[O+F]+s[_+F-C];else if(R==3){for(;F<x;F++)s[_+F]=s[O+F]+(s[_+F-C]>>>1);for(;F<C;F++)s[_+F]=s[O+F]+(s[_+F-C]+s[_+F-x]>>>1)}else{for(;F<x;F++)s[_+F]=s[O+F]+c(0,s[_+F-C],0);for(;F<C;F++)s[_+F]=s[O+F]+c(s[_+F-x],s[_+F-C],s[_+F-x-C])}return s}function c(s,l,o){let u=s+l-o,m=u-s,x=u-l,C=u-o;return m*m<=x*x&&m*m<=C*C?s:x*x<=C*C?l:o}function A(s,l,o){o.width=a.readUint(s,l),l+=4,o.height=a.readUint(s,l),l+=4,o.depth=s[l],l++,o.ctype=s[l],l++,o.compress=s[l],l++,o.filter=s[l],l++,o.interlace=s[l],l++}function v(s,l,o,u,m,x,C,_,O){let R=Math.min(l,m),F=Math.min(o,x),N=0,y=0;for(let T=0;T<F;T++)for(let p=0;p<R;p++)if(C>=0&&_>=0?(N=T*l+p<<2,y=(_+T)*m+C+p<<2):(N=(-_+T)*l-C+p<<2,y=T*m+p<<2),O==0)u[y]=s[N],u[y+1]=s[N+1],u[y+2]=s[N+2],u[y+3]=s[N+3];else if(O==1){var D=s[N+3]*.00392156862745098,g=s[N]*D,h=s[N+1]*D,b=s[N+2]*D,I=u[y+3]*(1/255),E=u[y]*I,S=u[y+1]*I,w=u[y+2]*I;let d=1-D,B=D+I*d,U=B==0?0:1/B;u[y+3]=255*B,u[y+0]=(g+E*d)*U,u[y+1]=(h+S*d)*U,u[y+2]=(b+w*d)*U}else if(O==2)D=s[N+3],g=s[N],h=s[N+1],b=s[N+2],I=u[y+3],E=u[y],S=u[y+1],w=u[y+2],D==I&&g==E&&h==S&&b==w?(u[y]=0,u[y+1]=0,u[y+2]=0,u[y+3]=0):(u[y]=g,u[y+1]=h,u[y+2]=b,u[y+3]=D);else if(O==3){if(D=s[N+3],g=s[N],h=s[N+1],b=s[N+2],I=u[y+3],E=u[y],S=u[y+1],w=u[y+2],D==I&&g==E&&h==S&&b==w)continue;if(D<220&&I>20)return!1}return!0}return{decode:function(l){let o=new Uint8Array(l),u=8,m=a,x=m.readUshort,C=m.readUint,_={tabs:{},frames:[]},O=new Uint8Array(o.length),R,F=0,N=0,y=[137,80,78,71,13,10,26,10];for(var D=0;D<8;D++)if(o[D]!=y[D])throw"The input is not a PNG file!";for(;u<o.length;){let T=m.readUint(o,u);u+=4;let p=m.readASCII(o,u,4);if(u+=4,p=="IHDR")A(o,u,_);else if(p=="iCCP"){for(var g=u;o[g]!=0;)g++;m.readASCII(o,u,g-u),o[g+1];let d=o.slice(g+2,u+T),B=null;try{B=i(d)}catch{B=t(d)}_.tabs[p]=B}else if(p=="CgBI")_.tabs[p]=o.slice(u,u+4);else if(p=="IDAT"){for(D=0;D<T;D++)O[F+D]=o[u+D];F+=T}else if(p=="acTL")_.tabs[p]={num_frames:C(o,u),num_plays:C(o,u+4)},R=new Uint8Array(o.length);else if(p=="fcTL"){N!=0&&((w=_.frames[_.frames.length-1]).data=n(_,R.slice(0,N),w.rect.width,w.rect.height),N=0);let d={x:C(o,u+12),y:C(o,u+16),width:C(o,u+4),height:C(o,u+8)},B=x(o,u+22);B=x(o,u+20)/(B==0?100:B);let U={rect:d,delay:Math.round(1e3*B),dispose:o[u+24],blend:o[u+25]};_.frames.push(U)}else if(p=="fdAT"){for(D=0;D<T-4;D++)R[N+D]=o[u+D+4];N+=T-4}else if(p=="pHYs")_.tabs[p]=[m.readUint(o,u),m.readUint(o,u+4),o[u+8]];else if(p=="cHRM")for(_.tabs[p]=[],D=0;D<8;D++)_.tabs[p].push(m.readUint(o,u+4*D));else if(p=="tEXt"||p=="zTXt"){_.tabs[p]==null&&(_.tabs[p]={});var h=m.nextZero(o,u),b=m.readASCII(o,u,h-u),I=u+T-h-1;if(p=="tEXt")S=m.readASCII(o,h+1,I);else{var E=i(o.slice(h+2,h+2+I));S=m.readUTF8(E,0,E.length)}_.tabs[p][b]=S}else if(p=="iTXt"){_.tabs[p]==null&&(_.tabs[p]={}),h=0,g=u,h=m.nextZero(o,g),b=m.readASCII(o,g,h-g);let d=o[g=h+1];var S;o[g+1],g+=2,h=m.nextZero(o,g),m.readASCII(o,g,h-g),g=h+1,h=m.nextZero(o,g),m.readUTF8(o,g,h-g),I=T-((g=h+1)-u),d==0?S=m.readUTF8(o,g,I):(E=i(o.slice(g,g+I)),S=m.readUTF8(E,0,E.length)),_.tabs[p][b]=S}else if(p=="PLTE")_.tabs[p]=m.readBytes(o,u,T);else if(p=="hIST"){let d=_.tabs.PLTE.length/3;for(_.tabs[p]=[],D=0;D<d;D++)_.tabs[p].push(x(o,u+2*D))}else if(p=="tRNS")_.ctype==3?_.tabs[p]=m.readBytes(o,u,T):_.ctype==0?_.tabs[p]=x(o,u):_.ctype==2&&(_.tabs[p]=[x(o,u),x(o,u+2),x(o,u+4)]);else if(p=="gAMA")_.tabs[p]=m.readUint(o,u)/1e5;else if(p=="sRGB")_.tabs[p]=o[u];else if(p=="bKGD")_.ctype==0||_.ctype==4?_.tabs[p]=[x(o,u)]:_.ctype==2||_.ctype==6?_.tabs[p]=[x(o,u),x(o,u+2),x(o,u+4)]:_.ctype==3&&(_.tabs[p]=o[u]);else if(p=="IEND")break;u+=T,m.readUint(o,u),u+=4}var w;return N!=0&&((w=_.frames[_.frames.length-1]).data=n(_,R.slice(0,N),w.rect.width,w.rect.height)),_.data=n(_,O,_.width,_.height),delete _.compress,delete _.interlace,delete _.filter,_},toRGBA8:function(l){let o=l.width,u=l.height;if(l.tabs.acTL==null)return[e(l.data,o,u,l).buffer];let m=[];l.frames[0].data==null&&(l.frames[0].data=l.data);let x=o*u*4,C=new Uint8Array(x),_=new Uint8Array(x),O=new Uint8Array(x);for(let F=0;F<l.frames.length;F++){let N=l.frames[F],y=N.rect.x,D=N.rect.y,g=N.rect.width,h=N.rect.height,b=e(N.data,g,h,l);if(F!=0)for(var R=0;R<x;R++)O[R]=C[R];if(N.blend==0?v(b,g,h,C,o,u,y,D,0):N.blend==1&&v(b,g,h,C,o,u,y,D,1),m.push(C.buffer.slice(0)),N.dispose!=0){if(N.dispose==1)v(_,g,h,C,o,u,y,D,0);else if(N.dispose==2)for(R=0;R<x;R++)C[R]=O[R]}}return m},_paeth:c,_copyTile:v,_bin:a}}();(function(){let{_copyTile:a}=Se,{_bin:e}=Se,n=Se._paeth;var i={table:function(){let g=new Uint32Array(256);for(let h=0;h<256;h++){let b=h;for(let I=0;I<8;I++)1&b?b=3988292384^b>>>1:b>>>=1;g[h]=b}return g}(),update(g,h,b,I){for(let E=0;E<I;E++)g=i.table[255&(g^h[b+E])]^g>>>8;return g},crc:(g,h,b)=>4294967295^i.update(4294967295,g,h,b)};function t(g,h,b,I){h[b]+=g[0]*I>>4,h[b+1]+=g[1]*I>>4,h[b+2]+=g[2]*I>>4,h[b+3]+=g[3]*I>>4}function r(g){return Math.max(0,Math.min(255,g))}function f(g,h){let b=g[0]-h[0],I=g[1]-h[1],E=g[2]-h[2],S=g[3]-h[3];return b*b+I*I+E*E+S*S}function c(g,h,b,I,E,S,w){w==null&&(w=1);let T=I.length,p=[];for(var d=0;d<T;d++){let M=I[d];p.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(d=0;d<T;d++){let M=4294967295;for(var B=0,U=0;U<T;U++){var P=f(p[d],p[U]);U!=d&&P<M&&(M=P,B=U)}}let Q=new Uint32Array(E.buffer),k=new Int16Array(h*b*4),L=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(d=0;d<L.length;d++)L[d]=255*((L[d]+.5)/16-.5);for(let M=0;M<b;M++)for(let q=0;q<h;q++){var j;d=4*(M*h+q),w!=2?j=[r(g[d]+k[d]),r(g[d+1]+k[d+1]),r(g[d+2]+k[d+2]),r(g[d+3]+k[d+3])]:(P=L[4*(3&M)+(3&q)],j=[r(g[d]+P),r(g[d+1]+P),r(g[d+2]+P),r(g[d+3]+P)]),B=0;let X=16777215;for(U=0;U<T;U++){let z=f(j,p[U]);z<X&&(X=z,B=U)}let G=p[B],H=[j[0]-G[0],j[1]-G[1],j[2]-G[2],j[3]-G[3]];w==1&&(q!=h-1&&t(H,k,d+4,7),M!=b-1&&(q!=0&&t(H,k,d+4*h-4,3),t(H,k,d+4*h,5),q!=h-1&&t(H,k,d+4*h+4,1))),S[d>>2]=B,Q[d>>2]=I[B]}}function A(g,h,b,I,E){E==null&&(E={});let{crc:S}=i,w=e.writeUint,T=e.writeUshort,p=e.writeASCII,d=8,B=g.frames.length>1,U,P=!1,Q=33+(B?20:0);if(E.sRGB!=null&&(Q+=13),E.pHYs!=null&&(Q+=21),E.iCCP!=null&&(U=pako.deflate(E.iCCP),Q+=21+U.length+4),g.ctype==3){for(var k=g.plte.length,L=0;L<k;L++)g.plte[L]>>>24!=255&&(P=!0);Q+=8+3*k+4+(P?8+1*k+4:0)}for(var j=0;j<g.frames.length;j++)B&&(Q+=38),Q+=(G=g.frames[j]).cimg.length+12,j!=0&&(Q+=4);Q+=12;let M=new Uint8Array(Q),q=[137,80,78,71,13,10,26,10];for(L=0;L<8;L++)M[L]=q[L];if(w(M,d,13),d+=4,p(M,d,"IHDR"),d+=4,w(M,d,h),d+=4,w(M,d,b),d+=4,M[d]=g.depth,d++,M[d]=g.ctype,d++,M[d]=0,d++,M[d]=0,d++,M[d]=0,d++,w(M,d,S(M,d-17,17)),d+=4,E.sRGB!=null&&(w(M,d,1),d+=4,p(M,d,"sRGB"),d+=4,M[d]=E.sRGB,d++,w(M,d,S(M,d-5,5)),d+=4),E.iCCP!=null){let H=13+U.length;w(M,d,H),d+=4,p(M,d,"iCCP"),d+=4,p(M,d,"ICC profile"),d+=11,d+=2,M.set(U,d),d+=U.length,w(M,d,S(M,d-(H+4),H+4)),d+=4}if(E.pHYs!=null&&(w(M,d,9),d+=4,p(M,d,"pHYs"),d+=4,w(M,d,E.pHYs[0]),d+=4,w(M,d,E.pHYs[1]),d+=4,M[d]=E.pHYs[2],d++,w(M,d,S(M,d-13,13)),d+=4),B&&(w(M,d,8),d+=4,p(M,d,"acTL"),d+=4,w(M,d,g.frames.length),d+=4,w(M,d,E.loop!=null?E.loop:0),d+=4,w(M,d,S(M,d-12,12)),d+=4),g.ctype==3){for(w(M,d,3*(k=g.plte.length)),d+=4,p(M,d,"PLTE"),d+=4,L=0;L<k;L++){let H=3*L,z=g.plte[L],te=255&z,oe=z>>>8&255,We=z>>>16&255;M[d+H+0]=te,M[d+H+1]=oe,M[d+H+2]=We}if(d+=3*k,w(M,d,S(M,d-3*k-4,3*k+4)),d+=4,P){for(w(M,d,k),d+=4,p(M,d,"tRNS"),d+=4,L=0;L<k;L++)M[d+L]=g.plte[L]>>>24&255;d+=k,w(M,d,S(M,d-k-4,k+4)),d+=4}}let X=0;for(j=0;j<g.frames.length;j++){var G=g.frames[j];B&&(w(M,d,26),d+=4,p(M,d,"fcTL"),d+=4,w(M,d,X++),d+=4,w(M,d,G.rect.width),d+=4,w(M,d,G.rect.height),d+=4,w(M,d,G.rect.x),d+=4,w(M,d,G.rect.y),d+=4,T(M,d,I[j]),d+=2,T(M,d,1e3),d+=2,M[d]=G.dispose,d++,M[d]=G.blend,d++,w(M,d,S(M,d-30,30)),d+=4);let H=G.cimg;w(M,d,(k=H.length)+(j==0?0:4)),d+=4;let z=d;p(M,d,j==0?"IDAT":"fdAT"),d+=4,j!=0&&(w(M,d,X++),d+=4),M.set(H,d),d+=k,w(M,d,S(M,z,d-z)),d+=4}return w(M,d,0),d+=4,p(M,d,"IEND"),d+=4,w(M,d,S(M,d-4,4)),d+=4,M.buffer}function v(g,h,b){for(let I=0;I<g.frames.length;I++){let E=g.frames[I];E.rect.width;let S=E.rect.height,w=new Uint8Array(S*E.bpl+S);E.cimg=u(E.img,S,E.bpp,E.bpl,w,h,b)}}function s(g,h,b,I,E){let S=E[0],w=E[1],T=E[2],p=E[3],d=E[4],B=E[5],U=6,P=8,Q=255;for(var k=0;k<g.length;k++){let ue=new Uint8Array(g[k]);for(var L=ue.length,j=0;j<L;j+=4)Q&=ue[j+3]}let M=Q!=255,q=function(J,Z,ae,he,re,Ae){let ne=[];for(var K=0;K<J.length;K++){let ge=new Uint8Array(J[K]),Ie=new Uint32Array(ge.buffer);var ye;let _e=0,Me=0,Ce=Z,$e=ae,lr=he?1:0;if(K!=0){let po=Ae||he||K==1||ne[K-2].dispose!=0?1:2,cr=0,zr=1e9;for(let _t=0;_t<po;_t++){var je=new Uint8Array(J[K-1-_t]);let mo=new Uint32Array(J[K-1-_t]),ke=Z,Le=ae,nt=-1,bt=-1;for(let Ge=0;Ge<ae;Ge++)for(let ze=0;ze<Z;ze++)Ie[de=Ge*Z+ze]!=mo[de]&&(ze<ke&&(ke=ze),ze>nt&&(nt=ze),Ge<Le&&(Le=Ge),Ge>bt&&(bt=Ge));nt==-1&&(ke=Le=nt=bt=0),re&&((1&ke)==1&&ke--,(1&Le)==1&&Le--);let Zr=(nt-ke+1)*(bt-Le+1);Zr<zr&&(zr=Zr,cr=_t,_e=ke,Me=Le,Ce=nt-ke+1,$e=bt-Le+1)}je=new Uint8Array(J[K-1-cr]),cr==1&&(ne[K-1].dispose=2),ye=new Uint8Array(Ce*$e*4),a(je,Z,ae,ye,Ce,$e,-_e,-Me,0),lr=a(ge,Z,ae,ye,Ce,$e,-_e,-Me,3)?1:0,lr==1?o(ge,Z,ae,ye,{x:_e,y:Me,width:Ce,height:$e}):a(ge,Z,ae,ye,Ce,$e,-_e,-Me,0)}else ye=ge.slice(0);ne.push({rect:{x:_e,y:Me,width:Ce,height:$e},img:ye,blend:lr,dispose:0})}if(he)for(K=0;K<ne.length;K++){if((He=ne[K]).blend==1)continue;let ge=He.rect,Ie=ne[K-1].rect,_e=Math.min(ge.x,Ie.x),Me=Math.min(ge.y,Ie.y),Ce={x:_e,y:Me,width:Math.max(ge.x+ge.width,Ie.x+Ie.width)-_e,height:Math.max(ge.y+ge.height,Ie.y+Ie.height)-Me};ne[K-1].dispose=1,K-1!=0&&l(J,Z,ae,ne,K-1,Ce,re),l(J,Z,ae,ne,K,Ce,re)}let Ct=0;if(J.length!=1)for(var de=0;de<ne.length;de++){var He;Ct+=(He=ne[de]).rect.width*He.rect.height}return ne}(g,h,b,S,w,T),X={},G=[],H=[];if(I!=0){let ue=[];for(j=0;j<q.length;j++)ue.push(q[j].img.buffer);let J=function(re){let Ae=0;for(var ne=0;ne<re.length;ne++)Ae+=re[ne].byteLength;let K=new Uint8Array(Ae),ye=0;for(ne=0;ne<re.length;ne++){let je=new Uint8Array(re[ne]),Ct=je.length;for(let de=0;de<Ct;de+=4){let He=je[de],ge=je[de+1],Ie=je[de+2],_e=je[de+3];_e==0&&(He=ge=Ie=0),K[ye+de]=He,K[ye+de+1]=ge,K[ye+de+2]=Ie,K[ye+de+3]=_e}ye+=Ct}return K.buffer}(ue),Z=x(J,I);for(j=0;j<Z.plte.length;j++)G.push(Z.plte[j].est.rgba);let ae=0;for(j=0;j<q.length;j++){let he=(te=q[j]).img.length;var z=new Uint8Array(Z.inds.buffer,ae>>2,he>>2);H.push(z);let re=new Uint8Array(Z.abuf,ae,he);B&&c(te.img,te.rect.width,te.rect.height,G,re,z),te.img.set(re),ae+=he}}else for(k=0;k<q.length;k++){var te=q[k];let ue=new Uint32Array(te.img.buffer);var oe=te.rect.width;for(L=ue.length,z=new Uint8Array(L),H.push(z),j=0;j<L;j++){let J=ue[j];if(j!=0&&J==ue[j-1])z[j]=z[j-1];else if(j>oe&&J==ue[j-oe])z[j]=z[j-oe];else{let Z=X[J];if(Z==null&&(X[J]=Z=G.length,G.push(J),G.length>=300))break;z[j]=Z}}}let We=G.length;for(We<=256&&d==0&&(P=We<=2?1:We<=4?2:We<=16?4:8,P=Math.max(P,p)),k=0;k<q.length;k++){(te=q[k]).rect.x,te.rect.y,oe=te.rect.width;let ue=te.rect.height,J=te.img;new Uint32Array(J.buffer);let Z=4*oe,ae=4;if(We<=256&&d==0){Z=Math.ceil(P*oe/8);var Fe=new Uint8Array(Z*ue);let he=H[k];for(let re=0;re<ue;re++){j=re*Z;let Ae=re*oe;if(P==8)for(var ee=0;ee<oe;ee++)Fe[j+ee]=he[Ae+ee];else if(P==4)for(ee=0;ee<oe;ee++)Fe[j+(ee>>1)]|=he[Ae+ee]<<4-4*(1&ee);else if(P==2)for(ee=0;ee<oe;ee++)Fe[j+(ee>>2)]|=he[Ae+ee]<<6-2*(3&ee);else if(P==1)for(ee=0;ee<oe;ee++)Fe[j+(ee>>3)]|=he[Ae+ee]<<7-1*(7&ee)}J=Fe,U=3,ae=1}else if(M==0&&q.length==1){Fe=new Uint8Array(oe*ue*3);let he=oe*ue;for(j=0;j<he;j++){let re=3*j,Ae=4*j;Fe[re]=J[Ae],Fe[re+1]=J[Ae+1],Fe[re+2]=J[Ae+2]}J=Fe,U=2,ae=3,Z=3*oe}te.img=J,te.bpl=Z,te.bpp=ae}return{ctype:U,depth:P,plte:G,frames:q}}function l(g,h,b,I,E,S,w){let T=Uint8Array,p=Uint32Array,d=new T(g[E-1]),B=new p(g[E-1]),U=E+1<g.length?new T(g[E+1]):null,P=new T(g[E]),Q=new p(P.buffer),k=h,L=b,j=-1,M=-1;for(let X=0;X<S.height;X++)for(let G=0;G<S.width;G++){let H=S.x+G,z=S.y+X,te=z*h+H,oe=Q[te];oe==0||I[E-1].dispose==0&&B[te]==oe&&(U==null||U[4*te+3]!=0)||(H<k&&(k=H),H>j&&(j=H),z<L&&(L=z),z>M&&(M=z))}j==-1&&(k=L=j=M=0),w&&((1&k)==1&&k--,(1&L)==1&&L--),S={x:k,y:L,width:j-k+1,height:M-L+1};let q=I[E];q.rect=S,q.blend=1,q.img=new Uint8Array(S.width*S.height*4),I[E-1].dispose==0?(a(d,h,b,q.img,S.width,S.height,-S.x,-S.y,0),o(P,h,b,q.img,S)):a(P,h,b,q.img,S.width,S.height,-S.x,-S.y,0)}function o(g,h,b,I,E){a(g,h,b,I,E.width,E.height,-E.x,-E.y,2)}function u(g,h,b,I,E,S,w){let T=[],p,d=[0,1,2,3,4];S!=-1?d=[S]:(h*I>5e5||b==1)&&(d=[0]),w&&(p={level:0});let B=wo;for(var U=0;U<d.length;U++){for(let k=0;k<h;k++)m(E,g,k,I,b,d[U]);T.push(B.deflate(E,p))}let P,Q=1e9;for(U=0;U<T.length;U++)T[U].length<Q&&(P=U,Q=T[U].length);return T[P]}function m(g,h,b,I,E,S){let w=b*I,T=w+b;if(g[T]=S,T++,S==0)if(I<500)for(var p=0;p<I;p++)g[T+p]=h[w+p];else g.set(new Uint8Array(h.buffer,w,I),T);else if(S==1){for(p=0;p<E;p++)g[T+p]=h[w+p];for(p=E;p<I;p++)g[T+p]=h[w+p]-h[w+p-E]+256&255}else if(b==0){for(p=0;p<E;p++)g[T+p]=h[w+p];if(S==2)for(p=E;p<I;p++)g[T+p]=h[w+p];if(S==3)for(p=E;p<I;p++)g[T+p]=h[w+p]-(h[w+p-E]>>1)+256&255;if(S==4)for(p=E;p<I;p++)g[T+p]=h[w+p]-n(h[w+p-E],0,0)+256&255}else{if(S==2)for(p=0;p<I;p++)g[T+p]=h[w+p]+256-h[w+p-I]&255;if(S==3){for(p=0;p<E;p++)g[T+p]=h[w+p]+256-(h[w+p-I]>>1)&255;for(p=E;p<I;p++)g[T+p]=h[w+p]+256-(h[w+p-I]+h[w+p-E]>>1)&255}if(S==4){for(p=0;p<E;p++)g[T+p]=h[w+p]+256-n(0,h[w+p-I],0)&255;for(p=E;p<I;p++)g[T+p]=h[w+p]+256-n(h[w+p-E],h[w+p-I],h[w+p-E-I])&255}}}function x(g,h){let b=new Uint8Array(g),I=b.slice(0),E=new Uint32Array(I.buffer),S=C(I,h),w=S[0],T=S[1],p=b.length,d=new Uint8Array(p>>2),B;if(b.length<2e7)for(var U=0;U<p;U+=4)B=_(w,P=b[U]*(1/255),Q=b[U+1]*(1/255),k=b[U+2]*(1/255),L=b[U+3]*(1/255)),d[U>>2]=B.ind,E[U>>2]=B.est.rgba;else for(U=0;U<p;U+=4){var P=b[U]*.00392156862745098,Q=b[U+1]*(1/255),k=b[U+2]*(1/255),L=b[U+3]*(1/255);for(B=w;B.left;)B=O(B.est,P,Q,k,L)<=0?B.left:B.right;d[U>>2]=B.ind,E[U>>2]=B.est.rgba}return{abuf:I.buffer,inds:d,plte:T}}function C(g,h,b){b==null&&(b=1e-4);let I=new Uint32Array(g.buffer),E={i0:0,i1:g.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=N(g,E.i0,E.i1),E.est=y(E.bst);let S=[E];for(;S.length<h;){let T=0,p=0;for(var w=0;w<S.length;w++)S[w].est.L>T&&(T=S[w].est.L,p=w);if(T<b)break;let d=S[p],B=R(g,I,d.i0,d.i1,d.est.e,d.est.eMq255);if(d.i0>=B||d.i1<=B){d.est.L=0;continue}let U={i0:d.i0,i1:B,bst:null,est:null,tdst:0,left:null,right:null};U.bst=N(g,U.i0,U.i1),U.est=y(U.bst);let P={i0:B,i1:d.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:d.bst.N-U.bst.N},w=0;w<16;w++)P.bst.R[w]=d.bst.R[w]-U.bst.R[w];for(w=0;w<4;w++)P.bst.m[w]=d.bst.m[w]-U.bst.m[w];P.est=y(P.bst),d.left=U,d.right=P,S[p]=U,S.push(P)}for(S.sort((T,p)=>p.bst.N-T.bst.N),w=0;w<S.length;w++)S[w].ind=w;return[E,S]}function _(g,h,b,I,E){if(g.left==null)return g.tdst=function(U,P,Q,k,L){let j=P-U[0],M=Q-U[1],q=k-U[2],X=L-U[3];return j*j+M*M+q*q+X*X}(g.est.q,h,b,I,E),g;let S=O(g.est,h,b,I,E),w=g.left,T=g.right;S>0&&(w=g.right,T=g.left);let p=_(w,h,b,I,E);if(p.tdst<=S*S)return p;let d=_(T,h,b,I,E);return d.tdst<p.tdst?d:p}function O(g,h,b,I,E){let{e:S}=g;return S[0]*h+S[1]*b+S[2]*I+S[3]*E-g.eMq}function R(g,h,b,I,E,S){for(I-=4;b<I;){for(;F(g,b,E)<=S;)b+=4;for(;F(g,I,E)>S;)I-=4;if(b>=I)break;let w=h[b>>2];h[b>>2]=h[I>>2],h[I>>2]=w,b+=4,I-=4}for(;F(g,b,E)>S;)b-=4;return b+4}function F(g,h,b){return g[h]*b[0]+g[h+1]*b[1]+g[h+2]*b[2]+g[h+3]*b[3]}function N(g,h,b){let I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,0,0,0],S=b-h>>2;for(let w=h;w<b;w+=4){let T=g[w]*.00392156862745098,p=g[w+1]*(1/255),d=g[w+2]*(1/255),B=g[w+3]*(1/255);E[0]+=T,E[1]+=p,E[2]+=d,E[3]+=B,I[0]+=T*T,I[1]+=T*p,I[2]+=T*d,I[3]+=T*B,I[5]+=p*p,I[6]+=p*d,I[7]+=p*B,I[10]+=d*d,I[11]+=d*B,I[15]+=B*B}return I[4]=I[1],I[8]=I[2],I[9]=I[6],I[12]=I[3],I[13]=I[7],I[14]=I[11],{R:I,m:E,N:S}}function y(g){let{R:h}=g,{m:b}=g,{N:I}=g,E=b[0],S=b[1],w=b[2],T=b[3],p=I==0?0:1/I,d=[h[0]-E*E*p,h[1]-E*S*p,h[2]-E*w*p,h[3]-E*T*p,h[4]-S*E*p,h[5]-S*S*p,h[6]-S*w*p,h[7]-S*T*p,h[8]-w*E*p,h[9]-w*S*p,h[10]-w*w*p,h[11]-w*T*p,h[12]-T*E*p,h[13]-T*S*p,h[14]-T*w*p,h[15]-T*T*p],B=d,U=D,P=[Math.random(),Math.random(),Math.random(),Math.random()],Q=0,k=0;if(I!=0)for(let j=0;j<16&&(P=U.multVec(B,P),k=Math.sqrt(U.dot(P,P)),P=U.sml(1/k,P),!(j!=0&&Math.abs(k-Q)<1e-9));j++)Q=k;let L=[E*p,S*p,w*p,T*p];return{Cov:d,q:L,e:P,L:Q,eMq255:U.dot(U.sml(255,L),P),eMq:U.dot(P,L),rgba:(Math.round(255*L[3])<<24|Math.round(255*L[2])<<16|Math.round(255*L[1])<<8|Math.round(255*L[0])<<0)>>>0}}var D={multVec:(g,h)=>[g[0]*h[0]+g[1]*h[1]+g[2]*h[2]+g[3]*h[3],g[4]*h[0]+g[5]*h[1]+g[6]*h[2]+g[7]*h[3],g[8]*h[0]+g[9]*h[1]+g[10]*h[2]+g[11]*h[3],g[12]*h[0]+g[13]*h[1]+g[14]*h[2]+g[15]*h[3]],dot:(g,h)=>g[0]*h[0]+g[1]*h[1]+g[2]*h[2]+g[3]*h[3],sml:(g,h)=>[g*h[0],g*h[1],g*h[2],g*h[3]]};Se.encode=function(h,b,I,E,S,w,T){E==null&&(E=0),T==null&&(T=!1);let p=s(h,b,I,E,[!1,!1,!1,0,T,!1]);return v(p,-1),A(p,b,I,S,w)},Se.encodeLL=function(h,b,I,E,S,w,T,p){let d={ctype:0+(E==1?0:2)+(S==0?0:4),depth:w,frames:[]},B=(E+S)*w,U=B*b;for(let P=0;P<h.length;P++)d.frames.push({rect:{x:0,y:0,width:b,height:I},img:new Uint8Array(h[P]),blend:0,dispose:1,bpp:Math.ceil(B/8),bpl:Math.ceil(U/8)});return v(d,0,!0),A(d,b,I,T,p)},Se.encode.compress=s,Se.encode.dither=c,Se.quantize=x,Se.quantize.getKDtree=C,Se.quantize.getNearest=_})();var Ni={toArrayBuffer(a,e){let n=a.width,i=a.height,t=n<<2,r=a.getContext("2d").getImageData(0,0,n,i),f=new Uint32Array(r.data.buffer),c=(32*n+31)/32<<2,A=c*i,v=122+A,s=new ArrayBuffer(v),l=new DataView(s),o=1<<20,u,m,x,C,_=o,O=0,R=0,F=0;function N(g){l.setUint16(R,g,!0),R+=2}function y(g){l.setUint32(R,g,!0),R+=4}function D(g){R+=g}N(19778),y(v),D(4),y(122),y(108),y(n),y(-i>>>0),N(1),N(32),y(3),y(A),y(2835),y(2835),D(8),y(16711680),y(65280),y(255),y(4278190080),y(1466527264),function g(){for(;O<i&&_>0;){for(C=122+O*c,u=0;u<t;)_--,m=f[F++],x=m>>>24,l.setUint32(C+u,m<<8|x),u+=4;O++}F<f.length?(_=o,setTimeout(g,Ni._dly)):e(s)}()},toBlob(a,e){this.toArrayBuffer(a,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9},me={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},_o={[me.CHROME]:16384,[me.FIREFOX]:11180,[me.DESKTOP_SAFARI]:16384,[me.IE]:8192,[me.IOS]:4096,[me.ETC]:8192},Sr=typeof window<"u",Oi=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ht=Sr&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),bo=(Sr||Oi)&&(Ht&&Ht.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Bi=(Sr||Oi)&&(Ht&&Ht.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Fr(a,e,n=Date.now()){return new Promise(i=>{let t=a.split(","),r=t[0].match(/:(.*?);/)[1],f=globalThis.atob(t[1]),c=f.length,A=new Uint8Array(c);for(;c--;)A[c]=f.charCodeAt(c);let v=new Blob([A],{type:r});v.name=e,v.lastModified=n,i(v)})}function ji(a){return new Promise((e,n)=>{let i=new Bi;i.onload=()=>e(i.result),i.onerror=t=>n(t),i.readAsDataURL(a)})}function ki(a){return new Promise((e,n)=>{let i=new Image;i.onload=()=>e(i),i.onerror=t=>n(t),i.src=a})}function Ye(){if(Ye.cachedResult!==void 0)return Ye.cachedResult;let a=me.ETC,{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?a=me.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?a=me.IOS:/Safari/i.test(e)?a=me.DESKTOP_SAFARI:/Firefox/i.test(e)?a=me.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(a=me.IE),Ye.cachedResult=a,Ye.cachedResult}function Li(a,e){let n=Ye(),i=_o[n],t=a,r=e,f=t*r,c=t>r?r/t:t/r;for(;f>i*i;){let A=(i+t)/2,v=(i+r)/2;A<v?(r=v,t=v*c):(r=A*c,t=A),f=t*r}return{width:t,height:r}}function zt(a,e){let n,i;try{if(n=new OffscreenCanvas(a,e),i=n.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),i=n.getContext("2d")}return n.width=a,n.height=e,[n,i]}function Qi(a,e){let{width:n,height:i}=Li(a.width,a.height),[t,r]=zt(n,i);return e&&/jpe?g/.test(e)&&(r.fillStyle="white",r.fillRect(0,0,t.width,t.height)),r.drawImage(a,0,0,t.width,t.height),t}function Vt(){return Vt.cachedResult!==void 0||(Vt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Vt.cachedResult}function $t(a,e={}){return new Promise(function(n,i){let t,r;var f=function(){try{return r=Qi(t,e.fileType||a.type),n([t,r])}catch(A){return i(A)}},c=function(A){try{var v=function(s){try{throw s}catch(l){return i(l)}};try{let s;return ji(a).then(function(l){try{return s=l,ki(s).then(function(o){try{return t=o,function(){try{return f()}catch(u){return i(u)}}()}catch(u){return v(u)}},v)}catch(o){return v(o)}},v)}catch(s){v(s)}}catch(s){return i(s)}};try{if(Vt()||[me.DESKTOP_SAFARI,me.MOBILE_SAFARI].includes(Ye()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(a).then(function(A){try{return t=A,f()}catch{return c()}},c)}catch{c()}})}function Gt(a,e,n,i,t=1){return new Promise(function(r,f){let c;if(e==="image/png"){let l,o,u;return l=a.getContext("2d"),{data:o}=l.getImageData(0,0,a.width,a.height),u=Se.encode([o.buffer],a.width,a.height,4096*t),c=new Blob([u],{type:e}),c.name=n,c.lastModified=i,A.call(this)}{let l=function(){return A.call(this)};var v=l;if(e==="image/bmp")return new Promise(o=>Ni.toBlob(a,o)).then(function(o){try{return c=o,c.name=n,c.lastModified=i,l.call(this)}catch(u){return f(u)}}.bind(this),f);{let o=function(){return l.call(this)};var s=o;if(typeof OffscreenCanvas=="function"&&a instanceof OffscreenCanvas)return a.convertToBlob({type:e,quality:t}).then(function(u){try{return c=u,c.name=n,c.lastModified=i,o.call(this)}catch(m){return f(m)}}.bind(this),f);{let u;return u=a.toDataURL(e,t),Fr(u,n,i).then(function(m){try{return c=m,o.call(this)}catch(x){return f(x)}}.bind(this),f)}}}function A(){return r(c)}})}function Ue(a){a.width=0,a.height=0}function dt(){return new Promise(function(a,e){let n,i,t,r,f;return dt.cachedResult!==void 0?a(dt.cachedResult):(n="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",Fr("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return i=c,$t(i).then(function(A){try{return t=A[1],Gt(t,i.type,i.name,i.lastModified).then(function(v){try{return r=v,Ue(t),$t(r).then(function(s){try{return f=s[0],dt.cachedResult=f.width===1&&f.height===2,a(dt.cachedResult)}catch(l){return e(l)}},e)}catch(s){return e(s)}},e)}catch(v){return e(v)}},e)}catch(A){return e(A)}},e))})}function qi(a){return new Promise((e,n)=>{let i=new Bi;i.onload=t=>{let r=new DataView(t.target.result);if(r.getUint16(0,!1)!=65496)return e(-2);let f=r.byteLength,c=2;for(;c<f;){if(r.getUint16(c+2,!1)<=8)return e(-1);let A=r.getUint16(c,!1);if(c+=2,A==65505){if(r.getUint32(c+=2,!1)!=1165519206)return e(-1);let v=r.getUint16(c+=6,!1)==18761;c+=r.getUint32(c+4,v);let s=r.getUint16(c,v);c+=2;for(let l=0;l<s;l++)if(r.getUint16(c+12*l,v)==274)return e(r.getUint16(c+12*l+8,v))}else{if((65280&A)!=65280)break;c+=r.getUint16(c,!1)}}return e(-1)},i.onerror=t=>n(t),i.readAsArrayBuffer(a)})}function Vi(a,e){let{width:n}=a,{height:i}=a,{maxWidthOrHeight:t}=e,r,f=a;return isFinite(t)&&(n>t||i>t)&&([f,r]=zt(n,i),n>i?(f.width=t,f.height=i/n*t):(f.width=n/i*t,f.height=t),r.drawImage(a,0,0,f.width,f.height),Ue(a)),f}function Wi(a,e){let{width:n}=a,{height:i}=a,[t,r]=zt(n,i);switch(e>4&&e<9?(t.width=i,t.height=n):(t.width=n,t.height=i),e){case 2:r.transform(-1,0,0,1,n,0);break;case 3:r.transform(-1,0,0,-1,n,i);break;case 4:r.transform(1,0,0,-1,0,i);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,i,0);break;case 7:r.transform(0,-1,-1,0,i,n);break;case 8:r.transform(0,-1,1,0,0,n)}return r.drawImage(a,0,0,n,i),Ue(a),t}function Di(a,e,n=0){return new Promise(function(i,t){let r,f,c,A,v,s,l,o,u,m,x,C,_,O,R,F,N,y,D,g;function h(I=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;r+=I,e.onProgress(Math.min(r,100))}function b(I){if(e.signal&&e.signal.aborted)throw e.signal.reason;r=Math.min(Math.max(I,r),100),e.onProgress(r)}return r=n,f=e.maxIteration||10,c=1024*e.maxSizeMB*1024,h(),$t(a,e).then(function(I){try{return[,A]=I,h(),v=Vi(A,e),h(),new Promise(function(E,S){var w;if(!(w=e.exifOrientation))return qi(a).then(function(p){try{return w=p,T.call(this)}catch(d){return S(d)}}.bind(this),S);function T(){return E(w)}return T.call(this)}).then(function(E){try{return s=E,h(),dt().then(function(S){try{return l=S?v:Wi(v,s),h(),o=e.initialQuality||1,u=e.fileType||a.type,Gt(l,u,a.name,a.lastModified,o).then(function(w){try{{let B=function(){if(f--&&(R>c||R>_)){let P,Q;return P=g?.95*D.width:D.width,Q=g?.95*D.height:D.height,[N,y]=zt(P,Q),y.drawImage(D,0,0,P,Q),o*=u==="image/png"?.85:.95,Gt(N,u,a.name,a.lastModified,o).then(function(k){try{return F=k,Ue(D),D=N,R=F.size,b(Math.min(99,Math.floor((O-R)/(O-c)*100))),B}catch(L){return t(L)}},t)}return[1]},U=function(){return Ue(D),Ue(N),Ue(v),Ue(l),Ue(A),b(100),i(F)};var p=B,d=U;if(m=w,h(),x=m.size>c,C=m.size>a.size,!x&&!C)return b(100),i(m);var T;return _=a.size,O=m.size,R=O,D=l,g=!e.alwaysKeepResolution&&x,(T=function(P){for(;P;){if(P.then)return void P.then(T,t);try{if(P.pop){if(P.length)return P.pop()?U.call(this):P;P=B}else P=P.call(this)}catch(Q){return t(Q)}}}.bind(this))(B)}}catch(B){return t(B)}}.bind(this),t)}catch(w){return t(w)}}.bind(this),t)}catch(S){return t(S)}}.bind(this),t)}catch(E){return t(E)}}.bind(this),t)})}var Eo=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`,xr;function Io(a,e){return new Promise((n,i)=>{xr||(xr=function(f){let c=[];return typeof f=="function"?c.push(`(${f})()`):c.push(f),URL.createObjectURL(new Blob(c))}(Eo));let t=new Worker(xr);t.addEventListener("message",function(f){if(e.signal&&e.signal.aborted)t.terminate();else if(f.data.progress===void 0){if(f.data.error)return i(new Error(f.data.error)),void t.terminate();n(f.data.file),t.terminate()}else e.onProgress(f.data.progress)}),t.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",()=>{i(e.signal.reason),t.terminate()}),t.postMessage({file:a,imageCompressionLibUrl:e.libURL,options:De(be({},e),{onProgress:void 0,signal:void 0})})})}function ce(a,e){return new Promise(function(n,i){let t,r,f,c,A,v;if(t=be({},e),f=0,{onProgress:c}=t,t.maxSizeMB=t.maxSizeMB||Number.POSITIVE_INFINITY,A=typeof t.useWebWorker!="boolean"||t.useWebWorker,delete t.useWebWorker,t.onProgress=u=>{f=u,typeof c=="function"&&c(f)},!(a instanceof Blob||a instanceof bo))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(a.type))return i(new Error("The file given is not an image"));if(v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!A||typeof Worker!="function"||v)return Di(a,t).then(function(u){try{return r=u,o.call(this)}catch(m){return i(m)}}.bind(this),i);var s=function(){try{return o.call(this)}catch(u){return i(u)}}.bind(this),l=function(u){try{return Di(a,t).then(function(m){try{return r=m,s()}catch(x){return i(x)}},i)}catch(m){return i(m)}};try{return t.libURL=t.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Io(a,t).then(function(u){try{return r=u,s()}catch{return l()}},l)}catch{l()}function o(){try{r.name=a.name,r.lastModified=a.lastModified}catch{}try{t.preserveExif&&a.type==="image/jpeg"&&(!t.fileType||t.fileType&&t.fileType===a.type)&&(r=Pi(a,r))}catch{}return n(r)}})}ce.getDataUrlFromFile=ji,ce.getFilefromDataUrl=Fr,ce.loadImage=ki,ce.drawImageInCanvas=Qi,ce.drawFileInCanvas=$t,ce.canvasToFile=Gt,ce.getExifOrientation=qi,ce.handleMaxWidthOrHeight=Vi,ce.followExifOrientation=Wi,ce.cleanupCanvasMemory=Ue,ce.isAutoOrientationInBrowser=dt,ce.approximateBelowMaximumCanvasSizeOfBrowser=Li,ce.copyExifWithoutOrientation=Pi,ce.getBrowserName=Ye,ce.version="2.0.2";var Zt,xo=new Uint8Array(16);function Cr(){if(!Zt&&(Zt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Zt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zt(xo)}var Hi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function So(a){return typeof a=="string"&&Hi.test(a)}var $i=So;var fe=[];for(Kt=0;Kt<256;++Kt)fe.push((Kt+256).toString(16).substr(1));var Kt;function Fo(a){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(fe[a[e+0]]+fe[a[e+1]]+fe[a[e+2]]+fe[a[e+3]]+"-"+fe[a[e+4]]+fe[a[e+5]]+"-"+fe[a[e+6]]+fe[a[e+7]]+"-"+fe[a[e+8]]+fe[a[e+9]]+"-"+fe[a[e+10]]+fe[a[e+11]]+fe[a[e+12]]+fe[a[e+13]]+fe[a[e+14]]+fe[a[e+15]]).toLowerCase();if(!$i(n))throw TypeError("Stringified UUID is invalid");return n}var Gi=Fo;function Co(a,e,n){a=a||{};var i=a.random||(a.rng||Cr)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){n=n||0;for(var t=0;t<16;++t)e[n+t]=i[t];return e}return Gi(i)}var Tr=Co;var To="firebase",Uo="11.9.1";we.registerVersion(To,Uo,"app-compat");var Ro=["ngOnDestroy"],Zi=(a,e,n,i={})=>new Proxy(a,{get:(t,r)=>n.runOutsideAngular(()=>{if(a[r])return i?.spy?.get&&i.spy.get(r,a[r]),a[r];if(Ro.indexOf(r)>-1)return()=>{};let f=e.toPromise().then(c=>{let A=c?.[r];return typeof A=="function"?A.bind(c):A?.then?A.then(v=>n.run(()=>v)):n.run(()=>A)});return new Proxy(()=>{},{get:(c,A)=>f[A],apply:(c,A,v)=>f.then(s=>{let l=s?.(...v);return i?.spy?.apply&&i.spy.apply(r,v,l),l})})})});var Ur=class{constructor(e){return e}},ht=new ie("angularfire2.app.options"),gt=new ie("angularfire2.app.name");function pt(a,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",t=typeof n=="object"&&n||{};t.name=t.name||i;let f=we.apps.filter(c=>c&&c.name===t.name)[0]||e.runOutsideAngular(()=>we.initializeApp(a,t));try{if(JSON.stringify(a)!==JSON.stringify(f.options)){let c=!!module.hot;Mo("error",`${f.name} Firebase App already initialized with different options${c?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ur(f)}var Mo=(a,...e)=>{gr()&&typeof console<"u"&&console[a](...e)};function mt(a,e,n,i,t){let[,r,f]=globalThis.\u0275AngularfireInstanceCache.find(c=>c[0]===a)||[];if(r)return Do(t,f)||(zi("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Po?" You may need to reload as Firebase is not HMR aware.":""}`),zi("warn",{is:t,was:f})),r;{let c=i();return globalThis.\u0275AngularfireInstanceCache.push([a,c,t]),c}}function Do(a,e){try{return a.toString()===e.toString()}catch{return a===e}}var Po=typeof module<"u"&&!!module.hot,zi=(a,...e)=>{gr()&&typeof console<"u"&&console[a](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var At=class{constructor(e,n,i){this._delegate=e,this.task=n,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Yt=class{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new At(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(i=>{if(e)return e(new At(i,this,this._ref))},n)}on(e,n,i,t){let r;return n&&(typeof n=="function"?r=f=>n(new At(f,this,this._ref)):r={next:n.next?f=>n.next(new At(f,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,r,i||void 0,t||void 0)}},Xt=class{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Xe(e,this._service))}get items(){return this._delegate.items.map(e=>new Xe(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Xe=class a{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let n=Ri(this._delegate,e);return new a(n,this.storage)}get root(){return new a(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new a(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new Yt(Ii(this._delegate,e,n),this)}putString(e,n=Er.RAW,i){this._throwIfRoot("putString");let t=vi(n,e),r=Object.assign({},i);return r.contentType==null&&t.contentType!=null&&(r.contentType=t.contentType),new Yt(new Ei(this._delegate,new wi(t.data,!0),r),this)}listAll(){return Ci(this._delegate).then(e=>new Xt(e,this.storage))}list(e){return Fi(this._delegate,e||void 0).then(n=>new Xt(n,this.storage))}getMetadata(){return xi(this._delegate)}updateMetadata(e){return Si(this._delegate,e)}getDownloadURL(){return Ti(this._delegate)}delete(){return this._throwIfRoot("delete"),Ui(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw Ai(e)}};var Jt=class{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Ki(e))throw qt("ref() expected a child path but got a URL, use refFromURL instead.");return new Xe(Ir(this._delegate,e),this)}refFromURL(e){if(!Ki(e))throw qt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yi.makeFromUrl(e,this._delegate.host)}catch{throw qt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xe(Ir(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,i={}){Mi(this._delegate,e,n,i)}};function Ki(a){return/^[A-Za-z]+:\/\//.test(a)}var No="@firebase/storage-compat",Oo="0.3.23";var Bo="storage-compat";function jo(a,{instanceIdentifier:e}){let n=a.getProvider("app-compat").getImmediate(),i=a.getProvider("storage").getImmediate({identifier:e});return new Jt(n,i)}function ko(a){let e={TaskState:bi,TaskEvent:_i,StringFormat:Er,Storage:Jt,Reference:Xe};a.INTERNAL.registerComponent(new Tt(Bo,jo,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),a.registerVersion(No,Oo)}ko(we);function Lo(a){return new Ze(e=>{let n=f=>e.next(f),i=f=>e.error(f),t=()=>e.complete();n(a.snapshot);let r=a.on("state_changed",n);return a.then(f=>{n(f),t()},f=>{n(a.snapshot),i(f)}),function(){r()}}).pipe(Jr(0))}function Yi(a){let e=Lo(a);return{task:a,then:a.then.bind(a),catch:a.catch.bind(a),pause:a.pause.bind(a),cancel:a.cancel.bind(a),resume:a.resume.bind(a),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(se(n=>n.bytesTransferred/n.totalBytes*100))}}function er(a,e){return{getDownloadURL:()=>xe(void 0).pipe(Qe(e.get(Oe).outsideAngular),Te(()=>a.getDownloadURL()),le(e)),getMetadata:()=>xe(void 0).pipe(Qe(e.get(Oe).outsideAngular),Te(()=>a.getMetadata()),le(e)),delete:()=>ve(a.delete()),child:n=>er(a.child(n),e),updateMetadata:n=>ve(a.updateMetadata(n)),put:(n,i)=>{let t=a.put(n,i);return Yi(t)},putString:(n,i,t)=>{let r=a.putString(n,i,t);return Yi(r)},list:n=>ve(a.list(n)),listAll:()=>ve(a.listAll())}}var Qo=new ie("angularfire2.storageBucket"),qo=new ie("angularfire2.storage.maxUploadRetryTime"),Vo=new ie("angularfire2.storage.maxOperationRetryTime"),Wo=new ie("angularfire2.storage.use-emulator"),ro=(()=>{class a{storage;injector=Pe(qe);constructor(n,i,t,r,f,c,A,v,s,l){let o=pt(n,f,i);this.storage=mt(`${o.name}.storage.${t}`,"AngularFireStorage",o.name,()=>{let u=f.runOutsideAngular(()=>o.storage(t||void 0)),m=s;return m&&u.useEmulator(...m),A&&u.setMaxUploadRetryTime(A),v&&u.setMaxOperationRetryTime(v),u},[A,v])}ref(n){return er(this.storage.ref(n),this.injector)}refFromURL(n){return er(this.storage.refFromURL(n),this.injector)}upload(n,i,t){let r=this.storage.ref(n);return er(r,this.injector).put(i,t)}static \u0275fac=function(i){return new(i||a)(V(ht),V(gt,8),V(Qo,8),V(Ke),V(Ne),V(Oe),V(qo,8),V(Vo,8),V(Wo,8),V(ft,8))};static \u0275prov=it({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})();var Mr=new ie("angularfire2.auth.use-emulator"),Dr=new ie("angularfire2.auth.settings"),Pr=new ie("angularfire2.auth.tenant-id"),Nr=new ie("angularfire2.auth.langugage-code"),Or=new ie("angularfire2.auth.use-device-language"),Br=new ie("angularfire.auth.persistence"),jr=(a,e,n,i,t,r,f,c)=>mt(`${a.name}.auth`,"AngularFireAuth",a.name,()=>{let A=e.runOutsideAngular(()=>a.auth());if(n&&A.useEmulator(...n),i&&(A.tenantId=i),A.languageCode=t,r&&A.useDeviceLanguage(),f)for(let[v,s]of Object.entries(f))A.settings[v]=s;return c&&A.setPersistence(c),A},[n,i,t,r,f,c]),no=(()=>{class a{injector=Pe(qe);authState;idToken;user;idTokenResult;credential;constructor(n,i,t,r,f,c,A,v,s,l,o,u){let m=new Kr,x=xe(void 0).pipe(Qe(f.outsideAngular),Te(()=>r.runOutsideAngular(()=>import("./chunk-HXAH4RH6.js"))),se(()=>pt(n,r,i)),se(C=>jr(C,r,c,v,s,l,A,o)),ur({bufferSize:1,refCount:!1}));if(Bt(t))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=xe(null);else{x.pipe(rn()).subscribe();let C=x.pipe(Te(R=>R.getRedirectResult().then(F=>F,()=>null)),le(this.injector),ur({bufferSize:1,refCount:!1})),_=x.pipe(Te(R=>new Ze(F=>({unsubscribe:r.runOutsideAngular(()=>R.onAuthStateChanged(N=>F.next(N),N=>F.error(N),()=>F.complete()))})))),O=x.pipe(Te(R=>new Ze(F=>({unsubscribe:r.runOutsideAngular(()=>R.onIdTokenChanged(N=>F.next(N),N=>F.error(N),()=>F.complete()))}))));this.authState=C.pipe(dr(_),Ut(f.outsideAngular),Qe(f.insideAngular)),this.user=C.pipe(dr(O),Ut(f.outsideAngular),Qe(f.insideAngular)),this.idToken=this.user.pipe(Te(R=>R?ve(R.getIdToken()):xe(null))),this.idTokenResult=this.user.pipe(Te(R=>R?ve(R.getIdTokenResult()):xe(null))),this.credential=Xr(C,m,this.authState.pipe(It(R=>!R))).pipe(se(R=>R?.user?R:null),Ut(f.outsideAngular),Qe(f.insideAngular))}return Zi(this,x,r,{spy:{apply:(C,_,O)=>{(C.startsWith("signIn")||C.startsWith("createUser"))&&O.then(R=>m.next(R))}}})}static \u0275fac=function(i){return new(i||a)(V(ht),V(gt,8),V(Ke),V(Ne),V(Oe),V(Mr,8),V(Dr,8),V(Pr,8),V(Nr,8),V(Or,8),V(Br,8),V(ft,8))};static \u0275prov=it({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})();var Go="@firebase/firestore-compat",zo="0.3.52";function Wr(a,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ut("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return e}function io(){if(typeof Uint8Array>"u")throw new ut("unimplemented","Uint8Arrays are not available in this environment.")}function oo(){if(!An())throw new ut("unimplemented","Blobs are unavailable in Firestore in this environment.")}var tr=class a{constructor(e){this._delegate=e}static fromBase64String(e){return oo(),new a(kt.fromBase64String(e))}static fromUint8Array(e){return io(),new a(kt.fromUint8Array(e))}toBase64(){return oo(),this._delegate.toBase64()}toUint8Array(){return io(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function kr(a){return Zo(a,["next","error","complete"])}function Zo(a,e){if(typeof a!="object"||a===null)return!1;let n=a;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var Lr=class{enableIndexedDbPersistence(e,n){return Sn(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Fn(e._delegate)}clearIndexedDbPersistence(e){return Cn(e._delegate)}},rr=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof yn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&dn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){_n(this._delegate,e,n,i)}enableNetwork(){return Un(this._delegate)}disableNetwork(){return Rn(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,vn("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Tn(this._delegate)}onSnapshotsInSync(e){return Jn(this._delegate,e)}get app(){if(!this._appCompat)throw new ut("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wt(this,pr(this._delegate,e))}catch(n){throw pe(n,"collection()","Firestore.collection()")}}doc(e){try{return new Re(this,jt(this._delegate,e))}catch(n){throw pe(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rt(this,bn(this._delegate,e))}catch(n){throw pe(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return ri(this._delegate,n=>e(new nr(this,n)))}batch(){return xn(this._delegate),new ir(new ti(this._delegate,e=>ei(this._delegate,e)))}loadBundle(e){return Mn(this._delegate,e)}namedQuery(e){return Dn(this._delegate,e).then(n=>n?new rt(this,n):null)}},yt=class extends Vn{constructor(e){super(),this.firestore=e}convertBytes(e){return new tr(new kt(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Re.forKey(n,this.firestore,null)}};function Ko(a){un(a)}var nr=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new yt(e)}get(e){let n=Je(e);return this._delegate.get(n).then(i=>new et(this._firestore,new Lt(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let t=Je(e);return i?(Wr("Transaction.set",i),this._delegate.set(t,n,i)):this._delegate.set(t,n),this}update(e,n,i,...t){let r=Je(e);return arguments.length===2?this._delegate.update(r,n):this._delegate.update(r,n,i,...t),this}delete(e){let n=Je(e);return this._delegate.delete(n),this}},ir=class{constructor(e){this._delegate=e}set(e,n,i){let t=Je(e);return i?(Wr("WriteBatch.set",i),this._delegate.set(t,n,i)):this._delegate.set(t,n),this}update(e,n,i,...t){let r=Je(e);return arguments.length===2?this._delegate.update(r,n):this._delegate.update(r,n,i,...t),this}delete(e){let n=Je(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},vt=class a{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new Wn(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tt(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=a.INSTANCES,t=i.get(e);t||(t=new WeakMap,i.set(e,t));let r=t.get(n);return r||(r=new a(e,new yt(e),n),t.set(n,r)),r}};vt.INSTANCES=new WeakMap;var Re=class a{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new yt(e)}static forPath(e,n,i){if(e.length%2!==0)throw new ut("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new a(n,new St(n._delegate,i,new mn(e)))}static forKey(e,n,i){return new a(n,new St(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new wt(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wt(this.firestore,pr(this._delegate,e))}catch(n){throw pe(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=fr(e),e instanceof St?mr(this._delegate,e):!1}set(e,n){n=Wr("DocumentReference.set",n);try{return n?wr(this._delegate,e,n):wr(this._delegate,e)}catch(i){throw pe(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?_r(this._delegate,e):_r(this._delegate,e,n,...i)}catch(t){throw pe(t,"updateDoc()","DocumentReference.update()")}}delete(){return Yn(this._delegate)}onSnapshot(...e){let n=ao(e),i=so(e,t=>new et(this.firestore,new Lt(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)));return br(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=$n(this._delegate):e?.source==="server"?n=Gn(this._delegate):n=Hn(this._delegate),n.then(i=>new et(this.firestore,new Lt(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new a(this.firestore,e?this._delegate.withConverter(vt.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function pe(a,e,n){return a.message=a.message.replace(e,n),a}function ao(a){for(let e of a)if(typeof e=="object"&&!kr(e))return e;return{}}function so(a,e){var n,i;let t;return kr(a[0])?t=a[0]:kr(a[1])?t=a[1]:typeof a[0]=="function"?t={next:a[0],error:a[1],complete:a[2]}:t={next:a[1],error:a[2],complete:a[3]},{next:r=>{t.next&&t.next(e(r))},error:(n=t.error)===null||n===void 0?void 0:n.bind(t),complete:(i=t.complete)===null||i===void 0?void 0:i.bind(t)}}var et=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Re(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return vr(this._delegate,e._delegate)}},tt=class extends et{data(e){let n=this._delegate.data(e);return this._delegate._converter||hn(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},rt=class a{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new yt(e)}where(e,n,i){try{return new a(this.firestore,Be(this._delegate,Nn(e,n,i)))}catch(t){throw pe(t,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new a(this.firestore,Be(this._delegate,On(e,n)))}catch(i){throw pe(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new a(this.firestore,Be(this._delegate,Bn(e)))}catch(n){throw pe(n,"limit()","Query.limit()")}}limitToLast(e){try{return new a(this.firestore,Be(this._delegate,jn(e)))}catch(n){throw pe(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new a(this.firestore,Be(this._delegate,kn(...e)))}catch(n){throw pe(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new a(this.firestore,Be(this._delegate,Ln(...e)))}catch(n){throw pe(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new a(this.firestore,Be(this._delegate,Qn(...e)))}catch(n){throw pe(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new a(this.firestore,Be(this._delegate,qn(...e)))}catch(n){throw pe(n,"endAt()","Query.endAt()")}}isEqual(e){return En(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=Zn(this._delegate):e?.source==="server"?n=Kn(this._delegate):n=zn(this._delegate),n.then(i=>new Ft(this.firestore,new yr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=ao(e),i=so(e,t=>new Ft(this.firestore,new yr(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)));return br(this._delegate,n,i)}withConverter(e){return new a(this.firestore,e?this._delegate.withConverter(vt.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},Qr=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new tt(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Ft=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new rt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new tt(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Qr(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new tt(this._firestore,i))})}isEqual(e){return vr(this._delegate,e._delegate)}},wt=class a extends rt{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Re(this.firestore,e):null}doc(e){try{return e===void 0?new Re(this.firestore,jt(this._delegate)):new Re(this.firestore,jt(this._delegate,e))}catch(n){throw pe(n,"doc()","CollectionReference.doc()")}}add(e){return Xn(this._delegate,e).then(n=>new Re(this.firestore,n))}isEqual(e){return mr(this._delegate,e._delegate)}withConverter(e){return new a(this.firestore,e?this._delegate.withConverter(vt.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Je(a){return wn(a,St)}var qr=class a{constructor(...e){this._delegate=new Ar(...e)}static documentId(){return new a(pn.keyField().canonicalString())}isEqual(e){return e=fr(e),e instanceof Ar?this._delegate._internalPath.isEqual(e._internalPath):!1}};var Vr=class a{static serverTimestamp(){let e=ii();return e._methodName="FieldValue.serverTimestamp",new a(e)}static delete(){let e=ni();return e._methodName="FieldValue.delete",new a(e)}static arrayUnion(...e){let n=oi(...e);return n._methodName="FieldValue.arrayUnion",new a(n)}static arrayRemove(...e){let n=ai(...e);return n._methodName="FieldValue.arrayRemove",new a(n)}static increment(e){let n=si(e);return n._methodName="FieldValue.increment",new a(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}};var Yo={Firestore:rr,GeoPoint:Pn,Timestamp:gn,Blob:tr,Transaction:nr,WriteBatch:ir,DocumentReference:Re,DocumentSnapshot:et,Query:rt,QueryDocumentSnapshot:tt,QuerySnapshot:Ft,CollectionReference:wt,FieldPath:qr,FieldValue:Vr,setLogLevel:Ko,CACHE_SIZE_UNLIMITED:In};function Xo(a,e){a.INTERNAL.registerComponent(new Tt("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),t=n.getProvider("firestore").getImmediate();return e(i,t)},"PUBLIC").setServiceProps(Object.assign({},Yo)))}function Jo(a){Xo(a,(e,n)=>new rr(e,n,new Lr)),a.registerVersion(Go,zo)}Jo(we);function ea(a,e=Yr){return new Ze(n=>{let i;return e!=null?e.schedule(()=>{i=a.onSnapshot({includeMetadataChanges:!0},n)}):i=a.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function lo(a,e){return ea(a,e)}function ta(a,e){return lo(a,e).pipe(Dt(void 0),Rt(),se(n=>{let[i,t]=n;return t.exists?i?.exists?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}}))}function Gr(a,e){return lo(a,e).pipe(se(n=>({payload:n,type:"query"})))}var or=class{ref;afs;injector=Pe(qe);constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:t,query:r}=uo(i,n);return new sr(t,r,this.afs)}snapshotChanges(){return ta(this.ref,this.afs.schedulers.outsideAngular).pipe(le(this.injector))}valueChanges(e={}){return this.snapshotChanges().pipe(se(({payload:n})=>e.idField?De(be({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return ve(this.ref.get(e)).pipe(le(this.injector))}};function ar(a,e){return Gr(a,e).pipe(Dt(void 0),Rt(),se(n=>{let[i,t]=n,r=t.payload.docChanges(),f=r.map(c=>({type:c.type,payload:c}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((c,A)=>{let v=r.find(l=>l.doc.ref.isEqual(c.ref)),s=i?.payload.docs.find(l=>l.ref.isEqual(c.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(c.metadata)||!v&&s&&JSON.stringify(s.metadata)===JSON.stringify(c.metadata)||f.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:c}})}),f}))}function co(a,e,n){return ar(a,n).pipe(Mt((i,t)=>ra(i,t.map(r=>r.payload),e),[]),en(),se(i=>i.map(t=>({type:t.type,payload:t}))))}function ra(a,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(a=na(a,i))}),a}function Hr(a,e,n,...i){let t=a.slice();return t.splice(e,n,...i),t}function na(a,e){switch(e.type){case"added":if(!a[e.newIndex]?.doc.ref.isEqual(e.doc.ref))return Hr(a,e.newIndex,0,e);break;case"modified":if(a[e.oldIndex]==null||a[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=a.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return Hr(a,e.newIndex,1,e);break;case"removed":if(a[e.oldIndex]?.doc.ref.isEqual(e.doc.ref))return Hr(a,e.oldIndex,1);break}return a}function fo(a){return(!a||a.length===0)&&(a=["added","removed","modified"]),a}var sr=class{ref;query;afs;injector=Pe(qe);constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=ar(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(se(i=>i.filter(t=>e.indexOf(t.type)>-1)))),n.pipe(Dt(void 0),Rt(),It(([i,t])=>t.length>0||!i),se(([,i])=>i),le(this.injector))}auditTrail(e){return this.stateChanges(e).pipe(Mt((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=fo(e);return co(this.query,n,this.afs.schedulers.outsideAngular).pipe(le(this.injector))}valueChanges(e={}){return Gr(this.query,this.afs.schedulers.outsideAngular).pipe(se(n=>n.payload.docs.map(i=>e.idField?De(be({},i.data()),{[e.idField]:i.id}):i.data())),le(this.injector))}get(e){return ve(this.query.get(e)).pipe(le(this.injector))}add(e){return this.ref.add(e)}doc(e){return new or(this.ref.doc(e),this.afs)}},$r=class{query;afs;injector=Pe(qe);constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?ar(this.query,this.afs.schedulers.outsideAngular).pipe(le(this.injector)):ar(this.query,this.afs.schedulers.outsideAngular).pipe(se(n=>n.filter(i=>e.indexOf(i.type)>-1)),It(n=>n.length>0),le(this.injector))}auditTrail(e){return this.stateChanges(e).pipe(Mt((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=fo(e);return co(this.query,n,this.afs.schedulers.outsideAngular).pipe(le(this.injector))}valueChanges(e={}){return Gr(this.query,this.afs.schedulers.outsideAngular).pipe(se(i=>i.payload.docs.map(t=>e.idField?be({[e.idField]:t.id},t.data()):t.data())),le(this.injector))}get(e){return ve(this.query.get(e)).pipe(le(this.injector))}},ia=new ie("angularfire2.enableFirestorePersistence"),oa=new ie("angularfire2.firestore.persistenceSettings"),aa=new ie("angularfire2.firestore.settings"),sa=new ie("angularfire2.firestore.use-emulator");function uo(a,e=n=>n){return{query:e(a),ref:a}}var ho=(()=>{class a{schedulers;firestore;persistenceEnabled$;ngZone=Pe(Ne);constructor(n,i,t,r,f,c,A,v,s,l,o,u,m,x,C,_,O){this.schedulers=A;let R=pt(n,c,i),F=s;l&&jr(R,c,o,m,x,C,u,_),[this.firestore,this.persistenceEnabled$]=mt(`${R.name}.firestore`,"AngularFirestore",R.name,()=>{let N=c.runOutsideAngular(()=>R.firestore());if(r&&N.settings(r),F&&N.useEmulator(...F),t&&!Bt(f)){let y=()=>{try{return ve(N.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(D){return typeof console<"u"&&console.warn(D),xe(!1)}};return[N,c.runOutsideAngular(y)]}else return[N,xe(!1)]},[r,F,t])}collection(n,i){let t;typeof n=="string"?t=this.firestore.collection(n):t=n;let{ref:r,query:f}=uo(t,i),c=this.ngZone.run(()=>r);return new sr(c,f,this)}collectionGroup(n,i){let t=i||(f=>f),r=this.firestore.collectionGroup(n);return new $r(t(r),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let t=this.ngZone.run(()=>i);return new or(t,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||a)(V(ht),V(gt,8),V(ia,8),V(aa,8),V(Ke),V(Ne),V(Oe),V(oa,8),V(sa,8),V(no,8),V(Mr,8),V(Dr,8),V(Pr,8),V(Nr,8),V(Or,8),V(Br,8),V(ft,8))};static \u0275prov=it({token:a,factory:a.\u0275fac,providedIn:"any"})}return a})();function ca(a,e){if(a&1){let n=Nt();$(0,"button",24),lt("click",function(){ot(n);let t=ct();return at(t.cancelEdit())}),Y(1," Cancel "),W()}}function fa(a,e){if(a&1&&($(0,"a",37),Y(1," View Photo "),W()),a&2){let n=ct().$implicit;Ve("href",n.photoUrl,nn)}}function ua(a,e){a&1&&($(0,"span"),Y(1,"No photo"),W())}function da(a,e){if(a&1){let n=Nt();$(0,"tr",30)(1,"td",31),Y(2),W(),$(3,"td",32),Y(4),W(),$(5,"td",31),Y(6),W(),$(7,"td",32),xt(8,fa,2,1,"a",33)(9,ua,2,0,"span",34),W(),$(10,"td",31)(11,"div",19)(12,"button",35),lt("click",function(){let t=ot(n).$implicit,r=ct(2);return at(r.editItem(t))}),Y(13," Edit "),W(),$(14,"button",36),lt("click",function(){let t=ot(n).$implicit,r=ct(2);return at(r.deleteItem(t.id))}),Y(15," Delete "),W()()()()}if(a&2){let n=e.$implicit;Ee(2),Ot(n.title),Ee(2),Ot(n.description),Ee(2),Ot(n.date),Ee(2),Ve("ngIf",n.photoUrl),Ee(),Ve("ngIf",!n.photoUrl)}}function ha(a,e){if(a&1&&($(0,"div",25)(1,"table",26)(2,"thead")(3,"tr",27)(4,"th",28),Y(5,"Title"),W(),$(6,"th",28),Y(7,"Description"),W(),$(8,"th",28),Y(9,"Date"),W(),$(10,"th",28),Y(11,"Picture"),W(),$(12,"th",28),Y(13,"Actions"),W()()(),$(14,"tbody"),xt(15,da,16,5,"tr",29),W()()()),a&2){let n=ct();Ee(15),Ve("ngForOf",n.timelineItems)}}function ga(a,e){a&1&&($(0,"div",38)(1,"p",39),Y(2,"No memories yet"),W(),$(3,"p",40),Y(4,"Start building your beautiful timeline together! \u{1F495}"),W()())}var go=class a{constructor(e,n,i,t){this.fb=e;this.userService=n;this.storage=i;this.firestore=t;this.form=this.fb.group({title:["",Qt.required],description:["",Qt.required],date:["",Qt.required]})}form;timelineItems=[];editingId=null;selectedFile=null;ngOnInit(){this.userService.getTimeline().subscribe(e=>{this.timelineItems=e})}onSubmit(){return Et(this,null,function*(){if(this.form.invalid)return;let e=this.form.value,n="";if(this.selectedFile){let i=yield ce(this.selectedFile,{maxSizeMB:.5,maxWidthOrHeight:1024,useWebWorker:!0}),t=`timeline/${Tr()}_${i.name}`,r=this.storage.ref(t);yield this.storage.upload(t,i).snapshotChanges().pipe(tn(()=>Et(this,null,function*(){if(n=yield r.getDownloadURL().toPromise(),this.editingId)yield this.firestore.collection("timeline").doc(this.editingId).update(De(be({},e),{photoUrl:n}));else{let c=this.firestore.createId();yield this.firestore.collection("timeline").doc(c).set(De(be({id:c},e),{photoUrl:n}))}this.resetForm()}))).toPromise()}else{if(this.editingId)yield this.firestore.collection("timeline").doc(this.editingId).update(be({},e));else{let i=this.firestore.createId();yield this.firestore.collection("timeline").doc(i).set(De(be({id:i},e),{photoUrl:n}))}this.resetForm()}})}onFileSelected(e){let n=e.target;n.files&&n.files.length>0&&(this.selectedFile=n.files[0])}editItem(e){return Et(this,null,function*(){this.form.patchValue({title:e.title,description:e.description,date:e.date}),this.editingId=e.id})}deleteItem(e){return Et(this,null,function*(){yield this.firestore.collection("timeline").doc(e).delete(),this.timelineItems=this.timelineItems.filter(n=>n.id!==e)})}cancelEdit(){this.resetForm()}resetForm(){this.editingId=null,this.selectedFile=null,this.form.reset()}static \u0275fac=function(n){return new(n||a)(st(gi),st(mi),st(ro),st(ho))};static \u0275cmp=on({type:a,selectors:[["app-timeline"]],decls:39,vars:6,consts:[["noMemories",""],[1,"p-8"],[1,"mb-8"],[1,"text-4xl","font-bold","bg-gradient-to-r","from-pink-600","to-rose-600","bg-clip-text","text-transparent"],[1,"text-gray-600","mt-2"],[1,"mb-8","shadow-lg","bg-white","rounded-lg"],[1,"p-4","border-b"],[1,"text-lg","font-semibold","flex","items-center","gap-2"],["enctype","multipart/form-data",1,"p-4","space-y-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"space-y-2"],["for","title",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","title","type","text","id","title","placeholder","Our first date...",1,"w-full","border","border-gray-300","rounded","px-3","py-2"],["for","date",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","date","type","date","id","date",1,"w-full","border","border-gray-300","rounded","px-3","py-2"],["for","description",1,"block","text-sm","font-medium","text-gray-700"],["formControlName","description","id","description","rows","3","placeholder","Tell the story of this beautiful moment...",1,"w-full","border","border-gray-300","rounded","px-3","py-2"],["for","photo",1,"block","text-sm","font-medium","text-gray-700"],["type","file","accept","image/*",1,"w-full","border","border-gray-300","rounded","px-3","py-2",3,"change"],[1,"flex","space-x-2"],["type","submit",1,"bg-gradient-to-r","from-pink-500","to-rose-500","text-white","px-4","py-2","rounded","hover:from-pink-600","hover:to-rose-600"],["type","button","class","border px-4 py-2 rounded text-gray-700",3,"click",4,"ngIf"],[1,"shadow-lg","bg-white","rounded-lg"],["class","overflow-x-auto",4,"ngIf","ngIfElse"],["type","button",1,"border","px-4","py-2","rounded","text-gray-700",3,"click"],[1,"overflow-x-auto"],[1,"w-full","text-left"],[1,"border-b"],[1,"py-3","px-2","font-semibold","text-gray-700"],["class","border-b hover:bg-pink-50",4,"ngFor","ngForOf"],[1,"border-b","hover:bg-pink-50"],[1,"py-4","px-2"],[1,"py-4","px-2","max-w-xs","truncate"],["target","_blank","rel","noopener noreferrer","class","text-blue-500 hover:underline",3,"href",4,"ngIf"],[4,"ngIf"],[1,"border","border-blue-300","text-blue-600","px-2","py-1","rounded","hover:bg-blue-50",3,"click"],[1,"border","border-red-300","text-red-600","px-2","py-1","rounded","hover:bg-red-50",3,"click"],["target","_blank","rel","noopener noreferrer",1,"text-blue-500","hover:underline",3,"href"],[1,"text-center","py-12"],[1,"text-gray-500","text-lg"],[1,"text-gray-400"]],template:function(n,i){if(n&1){let t=Nt();$(0,"div",1)(1,"div",2)(2,"h1",3),Y(3," Love Timeline \u{1F5D3}\uFE0F "),W(),$(4,"p",4),Y(5,"Capture and cherish your beautiful moments together"),W()(),$(6,"div",5)(7,"div",6)(8,"h2",7),Y(9),W()(),$(10,"form",8),lt("ngSubmit",function(){return ot(t),at(i.onSubmit())}),$(11,"div",9)(12,"div",10)(13,"label",11),Y(14,"Title"),W(),Pt(15,"input",12),W(),$(16,"div",10)(17,"label",13),Y(18,"Date"),W(),Pt(19,"input",14),W()(),$(20,"div",10)(21,"label",15),Y(22,"Description"),W(),Pt(23,"textarea",16),W(),$(24,"div",10)(25,"label",17),Y(26,"Upload Picture"),W(),$(27,"input",18),lt("change",function(f){return ot(t),at(i.onFileSelected(f))}),W()(),$(28,"div",19)(29,"button",20),Y(30),W(),xt(31,ca,2,0,"button",21),W()()(),$(32,"div",22)(33,"div",6)(34,"h2",7),Y(35," \u{1F496} Your Love Story "),W()(),xt(36,ha,16,1,"div",23)(37,ga,5,0,"ng-template",null,0,sn),W()()}if(n&2){let t=an(38);Ee(9),hr(" \u2728 ",i.editingId?"Edit Memory":"Add New Memory"," "),Ee(),Ve("formGroup",i.form),Ee(20),hr(" ",i.editingId?"Update Memory":"Add Memory"," "),Ee(),Ve("ngIf",i.editingId),Ee(5),Ve("ngIf",i.timelineItems.length>0)("ngIfElse",t)}},dependencies:[pi,ui,li,ci,fi,di,hi,fn,ln,cn],encapsulation:2})};export{go as TimelineComponent};
